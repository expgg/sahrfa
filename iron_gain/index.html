<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Blood Protocol App</title>
    <style>
        :root {
            /* Light Mode (Default) */
            --bg: #ffffff;
            --text: #000000;
            --border: #000000;
            --card-bg: #ffffff;
            --checked-bg: #f0f0f0;
            --shadow: #000000;
            --nav-bg: #ffffff;
            --nav-active: #000000;
            --nav-inactive: #999999;
            --important-bg: #000000;
            --important-text: #ffffff;
        }

        /* Pure Dark Mode (AMOLED) */
        body.dark-mode {
            --bg: #000000;
            --text: #ffffff;
            --border: #ffffff;
            --card-bg: #000000;
            --checked-bg: #1a1a1a;
            --shadow: #333333; /* Subtle shadow for depth */
            --nav-bg: #000000;
            --nav-active: #ffffff;
            --nav-inactive: #666666;
            --important-bg: #ffffff;
            --important-text: #000000;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; transition: background-color 0.3s, color 0.3s, border-color 0.3s; }
        
        body {
            background-color: var(--bg);
            color: var(--text);
            padding: 15px;
            padding-bottom: 90px; /* Space for bottom bar */
            max-width: 600px;
            margin: 0 auto;
            touch-action: manipulation;
        }

        /* --- HEADER --- */
        header {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            border: 3px solid var(--border);
            box-shadow: 4px 4px 0px var(--shadow);
            position: relative;
        }

        .theme-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }

        h1 { font-size: 20px; font-weight: 900; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 5px; }
        .subtitle { font-size: 14px; font-weight: 600; color: var(--text); opacity: 0.7; }

        /* --- VIEWS --- */
        .view-section { display: none; animation: fadeIn 0.2s ease; }
        .view-section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- SHOPPING LIST STYLES --- */
        .category-title {
            font-size: 16px; font-weight: 800; text-transform: uppercase;
            margin: 25px 0 12px 0; border-bottom: 3px solid var(--border); display: inline-block;
            padding-bottom: 2px;
        }

        .item {
            background: var(--card-bg); padding: 16px; margin-bottom: 12px; border-radius: 8px;
            display: flex; align-items: center; border: 2px solid var(--border);
            box-shadow: 3px 3px 0px var(--shadow); transition: all 0.1s;
            cursor: pointer;
        }
        .item:active { transform: translate(2px, 2px); box-shadow: 1px 1px 0px var(--shadow); }
        
        .checkbox-circle {
            width: 26px; height: 26px; border: 2px solid var(--border); border-radius: 6px;
            margin-right: 15px; display: flex; align-items: center; justify-content: center; flex-shrink: 0;
            background: var(--card-bg);
        }
        
        .icon-area { font-size: 28px; margin-right: 15px; }
        .content { flex: 1; }
        
        .name { font-weight: 800; font-size: 17px; display: block; color: var(--text); }
        .details { font-size: 13px; color: var(--text); opacity: 0.8; font-weight: 600; margin-top: 2px; display: block; }
        
        .important-tag { 
            background: var(--important-bg); color: var(--important-text); font-size: 11px; padding: 3px 6px; 
            border-radius: 4px; display: inline-block; margin-top: 4px; font-weight: 700;
        }

        /* Checked State */
        .item.checked { 
            background: var(--checked-bg); 
            transform: translate(3px, 3px); 
            box-shadow: none; 
            border-color: var(--border); 
        }
        .item.checked .checkbox-circle { background: var(--border); border-color: var(--border); }
        .check-mark { display: none; color: var(--bg); font-size: 16px; font-weight: 900; }
        .item.checked .check-mark { display: block; }
        
        .item.checked .name { text-decoration: none; opacity: 1; }
        .item.checked .details { opacity: 1; }

        /* --- RECIPE CARDS --- */
        .recipe-card {
            border: 2px solid var(--border); border-radius: 10px; padding: 18px; margin-bottom: 20px;
            background: var(--card-bg); box-shadow: 4px 4px 0px var(--shadow);
        }
        .recipe-header {
            display: flex; align-items: center; border-bottom: 2px solid var(--border); 
            padding-bottom: 10px; margin-bottom: 10px;
        }
        .recipe-icon { font-size: 30px; margin-right: 10px; }
        .recipe-title { font-weight: 900; font-size: 18px; }
        
        .ingredients-list { 
            font-size: 13px; color: var(--text); opacity: 0.8; margin-bottom: 10px; font-style: italic; 
            background: var(--checked-bg); padding: 8px; border-radius: 5px;
        }

        .recipe-step { 
            font-size: 15px; margin-bottom: 10px; padding-left: 20px; position: relative; 
            color: var(--text); line-height: 1.4; font-weight: 500;
        }
        .recipe-step::before { 
            content: "‚û§"; position: absolute; left: 0; font-weight: bold; font-size: 12px; top: 2px;
        }
        .pro-tip { 
            font-size: 13px; background: var(--important-bg); color: var(--important-text); padding: 10px; 
            border-radius: 6px; margin-top: 15px; font-weight: 600; 
        }

        /* --- EATING PLAN --- */
        .timeline-item {
            display: flex; gap: 15px; margin-bottom: 25px; 
            border-left: 4px solid var(--border); padding-left: 20px;
            position: relative;
        }
        .timeline-item::before {
            content: ""; position: absolute; left: -9px; top: 0; 
            width: 14px; height: 14px; background: var(--border); border-radius: 50%;
        }

        .day-badge { 
            background: var(--border); color: var(--bg); padding: 5px 12px; border-radius: 6px; 
            font-weight: 800; height: fit-content; font-size: 14px; min-width: 80px; text-align: center;
        }
        .day-content h3 { font-size: 18px; font-weight: 900; margin-bottom: 8px; text-transform: uppercase; }
        .day-content p { font-size: 14px; color: var(--text); line-height: 1.5; font-weight: 500; opacity: 0.9; }
        .meal-list { margin-top: 8px; font-size: 13px; color: var(--text); opacity: 0.8; }
        .meal-item { margin-bottom: 4px; display: flex; align-items: center; }

        /* --- BOTTOM BAR --- */
        .bottom-bar {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 75px;
            background: var(--nav-bg); border-top: 3px solid var(--border);
            display: flex; justify-content: space-around; align-items: center;
            z-index: 100; box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
        }

        .nav-btn {
            background: none; border: none; display: flex; flex-direction: column;
            align-items: center; font-size: 12px; font-weight: 700; color: var(--nav-inactive);
            cursor: pointer; width: 33%; padding: 10px;
        }

        .nav-btn span { font-size: 24px; margin-bottom: 5px; filter: grayscale(100%); opacity: 0.5; }
        
        .nav-btn.active { color: var(--nav-active); }
        .nav-btn.active span { filter: none; opacity: 1; transform: scale(1.1); transition: 0.2s; }

        /* --- THIN FOOTER --- */
        .gamli-footer {
            text-align: center;
            font-size: 10px;
            color: var(--text);
            opacity: 0.5;
            padding: 10px 0;
            font-weight: 600;
            letter-spacing: 1px;
            margin-top: 20px;
        }
        
        .heart {
            display: inline-block;
            animation: bounce 1s infinite;
            color: #ff4757;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

    </style>
</head>
<body id="app-body">

    <!-- Header -->
    <header onclick="secretReset()">
        <h1>TARGET: BLOOD & PROTEIN</h1>
        <div class="subtitle">‡¶¨‡¶æ‡¶ú‡ßá‡¶ü: ~‡ß™‡ß®‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ | ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶ø‡¶ï ‡¶™‡¶ü ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤</div>
        <button class="theme-toggle" onclick="toggleTheme(event)">üåó</button>
    </header>

    <!-- VIEW 1: SHOPPING LIST -->
    <div id="view-list" class="view-section active">
        <div id="list-container"></div>
        <div class="gamli-footer">Made with <span class="heart">‚ù§Ô∏è</span> for Gamli</div>
    </div>

    <!-- VIEW 2: RECIPES -->
    <div id="view-recipes" class="view-section">
        
        <!-- LIVER RECIPE -->
        <div class="recipe-card">
            <div class="recipe-header">
                <span class="recipe-icon">üçó</span>
                <div class="recipe-title">‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ ‡¶≠‡ßÅ‡¶®‡¶æ (Priority)</div>
            </div>
            <div class="ingredients-list">‡¶â‡¶™‡¶ï‡¶∞‡¶£: ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ, ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú, ‡¶§‡ßá‡¶≤, ‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶∏‡¶≤‡¶æ, ‡¶≤‡¶¨‡¶£, ‡¶≤‡ßá‡¶¨‡ßÅ</div>
            
            <div class="recipe-step">‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ ‡¶õ‡ßã‡¶ü ‡¶õ‡ßã‡¶ü ‡¶ü‡ßÅ‡¶ï‡¶∞‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶® (‡¶Ü‡¶ô‡ßç‡¶ó‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶°‡¶ó‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶æ‡¶®)‡•§ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶ï‡¶∞‡ßá ‡¶ß‡ßÅ‡ßü‡ßá ‡¶®‡¶ø‡¶®‡•§</div>
            <div class="recipe-step">‡¶™‡¶ü‡ßá ‡¶§‡ßá‡¶≤ ‡¶¶‡¶ø‡¶®‡•§ ‡¶§‡ßá‡¶≤ ‡¶ó‡¶∞‡¶Æ ‡¶π‡¶≤‡ßá ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú ‡¶ì ‡¶≤‡¶¨‡¶£ ‡¶¶‡¶ø‡¶®‡•§ ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶®‡¶∞‡¶Æ ‡¶π‡¶ì‡ßü‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶≠‡¶æ‡¶ú‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶è‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ, ‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶∏‡¶≤‡¶æ ‡¶Ü‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶æ‡¶®‡ßç‡¶Ø ‡¶π‡¶≤‡ßÅ‡¶¶ ‡¶¶‡¶ø‡ßü‡ßá ‡¶®‡¶æ‡ßú‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶Ö‡¶≤‡ßç‡¶™ ‡¶™‡¶æ‡¶®‡¶ø ‡¶¶‡¶ø‡¶® (‡¶Ø‡¶æ‡¶§‡ßá ‡¶™‡ßÅ‡ßú‡ßá ‡¶®‡¶æ ‡¶Ø‡¶æ‡ßü)‡•§ ‡¶¢‡¶æ‡¶ï‡¶®‡¶æ ‡¶¶‡¶ø‡ßü‡ßá ‡ßß‡ß¶-‡ßß‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶∏‡ßá‡¶¶‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶™‡¶æ‡¶®‡¶ø ‡¶∂‡ßÅ‡¶ï‡¶ø‡ßü‡ßá ‡¶§‡ßá‡¶≤ ‡¶≠‡ßá‡¶∏‡ßá ‡¶â‡¶†‡¶≤‡ßá ‡¶®‡¶æ‡¶Æ‡¶ø‡ßü‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®‡•§</div>
            <div class="pro-tip">‚ö†Ô∏è ‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶≤‡ßá‡¶¨‡ßÅ ‡¶ö‡¶ø‡¶™‡ßá ‡¶ñ‡¶æ‡¶¨‡ßá‡¶®‡•§ ‡¶≤‡ßá‡¶¨‡ßÅ ‡¶õ‡¶æ‡ßú‡¶æ ‡¶Ü‡ßü‡¶∞‡¶® ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá ‡¶®‡¶æ‡•§</div>
        </div>

        <!-- SHUTKI RECIPE -->
        <div class="recipe-card">
            <div class="recipe-header">
                <span class="recipe-icon">üêü</span>
                <div class="recipe-title">‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø ‡¶≠‡¶∞‡ßç‡¶§‡¶æ (‡¶∏‡ßç‡¶Æ‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤)</div>
            </div>
            <div class="ingredients-list">‡¶â‡¶™‡¶ï‡¶∞‡¶£: ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø, ‡¶∞‡¶∏‡ßÅ‡¶®, ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú, ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶Æ‡¶∞‡¶ø‡¶ö, ‡¶§‡ßá‡¶≤</div>

            <div class="recipe-step">‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡¶ü‡ßá ‡¶ó‡¶∞‡¶Æ ‡¶™‡¶æ‡¶®‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶≠‡¶ø‡¶ú‡¶ø‡ßü‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§ ‡¶è‡¶∞‡¶™‡¶∞ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶ï‡¶∞‡ßá ‡¶ß‡ßÅ‡ßü‡ßá ‡¶¨‡¶æ‡¶≤‡ßÅ ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶™‡¶ü‡ßá ‡¶ß‡ßã‡ßü‡¶æ ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø, ‡¶∞‡¶∏‡ßÅ‡¶® (‡¶¨‡ßá‡¶∂‡¶ø ‡¶ï‡¶∞‡ßá), ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú ‡¶ï‡ßÅ‡¶ö‡¶ø, ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶Æ‡¶∞‡¶ø‡¶ö ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶ß‡¶æ ‡¶ï‡¶æ‡¶™ ‡¶™‡¶æ‡¶®‡¶ø ‡¶¶‡¶ø‡¶®‡•§</div>
            <div class="recipe-step">‡¶¢‡¶æ‡¶ï‡¶®‡¶æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡ßá‡¶¶‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶®‡¶æ ‡¶™‡¶æ‡¶®‡¶ø ‡¶™‡ßÅ‡¶∞‡ßã‡¶™‡ßÅ‡¶∞‡¶ø ‡¶∂‡ßÅ‡¶ï‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§</div>
            <div class="recipe-step">‡¶™‡¶æ‡¶®‡¶ø ‡¶∂‡ßÅ‡¶ï‡¶ø‡ßü‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶ï‡¶æ‡¶†‡ßá‡¶∞ ‡¶ö‡¶æ‡¶Æ‡¶ö ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡¶ü‡ßá‡¶∞ ‡¶ó‡¶æ‡ßü‡ßá ‡¶ö‡ßá‡¶™‡ßá ‡¶ö‡ßá‡¶™‡ßá ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø ‡¶ì ‡¶∞‡¶∏‡ßÅ‡¶® ‡¶≠‡¶∞‡ßç‡¶§‡¶æ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶®‡¶æ‡¶Æ‡¶æ‡¶®‡ßã‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶∏‡¶∞‡¶ø‡¶∑‡¶æ‡¶∞ ‡¶§‡ßá‡¶≤ ‡¶õ‡ßú‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶®‡•§</div>
            <div class="pro-tip">üí° ‡¶∞‡¶∏‡ßÅ‡¶® ‡¶¨‡ßá‡¶∂‡¶ø ‡¶¶‡¶ø‡¶≤‡ßá ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø‡¶∞ ‡¶ó‡¶®‡ßç‡¶ß ‡¶ï‡¶Æ‡ßá ‡¶Ø‡¶æ‡ßü ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶¨‡¶æ‡ßú‡ßá‡•§</div>
        </div>

        <!-- SOYA RECIPE -->
        <div class="recipe-card">
            <div class="recipe-header">
                <span class="recipe-icon">üç≤</span>
                <div class="recipe-title">‡¶∏‡ßü‡¶æ ‡¶¨‡ßú‡¶ø ‡¶ï‡¶æ‡¶∞‡¶ø (‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶¶)</div>
            </div>
            <div class="ingredients-list">‡¶â‡¶™‡¶ï‡¶∞‡¶£: ‡¶∏‡ßü‡¶æ ‡¶ö‡¶æ‡¶ô‡ßç‡¶ï‡¶∏, ‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶∏‡¶≤‡¶æ, ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú, ‡¶§‡ßá‡¶≤</div>

            <div class="recipe-step">‡¶∏‡ßü‡¶æ ‡¶¨‡ßú‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã ‡ßß‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶æ‡¶®‡¶ø‡¶§‡ßá ‡¶≠‡¶ø‡¶ú‡¶ø‡ßü‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§ ‡¶®‡¶∞‡¶Æ ‡¶π‡¶≤‡ßá ‡¶ö‡¶ø‡¶™‡ßá ‡¶™‡¶æ‡¶®‡¶ø ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶™‡¶ü‡ßá ‡¶§‡ßá‡¶≤, ‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú ‡¶ì ‡¶Æ‡¶∏‡¶≤‡¶æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ï‡¶∑‡¶ø‡ßü‡ßá ‡¶®‡¶ø‡¶®‡•§</div>
            <div class="recipe-step">‡¶ö‡¶ø‡¶™‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶∏‡ßü‡¶æ ‡¶¨‡ßú‡¶ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶®‡•§ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£‡¶Æ‡¶§‡ßã ‡¶™‡¶æ‡¶®‡¶ø ‡¶ì ‡¶≤‡¶¨‡¶£ ‡¶¶‡¶ø‡¶®‡•§</div>
            <div class="recipe-step">‡¶ù‡ßã‡¶≤ ‡¶Æ‡¶æ‡¶ñ‡¶æ ‡¶Æ‡¶æ‡¶ñ‡¶æ ‡¶π‡¶ì‡ßü‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
            <div class="pro-tip">üî• ‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶∏‡¶≤‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ü‡¶ø ‡¶ñ‡ßá‡¶§‡ßá ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶≤‡¶æ‡¶ó‡ßá‡•§</div>
        </div>

        <!-- SHAK & DAL RECIPE -->
        <div class="recipe-card">
            <div class="recipe-header">
                <span class="recipe-icon">ü•£</span>
                <div class="recipe-title">‡¶Ü‡ßü‡¶∞‡¶® ‡¶∏‡ßÅ‡¶™ (‡¶∂‡¶æ‡¶ï + ‡¶°‡¶æ‡¶≤)</div>
            </div>
            <div class="ingredients-list">‡¶â‡¶™‡¶ï‡¶∞‡¶£: ‡¶ï‡¶ö‡ßÅ/‡¶≤‡¶æ‡¶≤ ‡¶∂‡¶æ‡¶ï, ‡¶Æ‡¶∏‡ßÅ‡¶∞ ‡¶°‡¶æ‡¶≤, ‡¶≤‡¶¨‡¶£, ‡¶™‡¶æ‡¶®‡¶ø</div>

            <div class="recipe-step">‡¶∂‡¶æ‡¶ï ‡¶ï‡ßÅ‡¶ö‡¶ø ‡¶ï‡ßÅ‡¶ö‡¶ø ‡¶ï‡¶∞‡ßá ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶™‡¶ü‡ßá ‡¶è‡¶ï ‡¶Æ‡ßÅ‡¶†‡ßã ‡¶Æ‡¶∏‡ßÅ‡¶∞ ‡¶°‡¶æ‡¶≤, ‡¶∂‡¶æ‡¶ï, ‡¶≤‡¶¨‡¶£ ‡¶è‡¶¨‡¶Ç ‡ß® ‡¶ï‡¶æ‡¶™ ‡¶™‡¶æ‡¶®‡¶ø ‡¶¶‡¶ø‡¶®‡•§</div>
            <div class="recipe-step">‡¶°‡¶æ‡¶≤ ‡¶ó‡¶≤‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶∏‡ßá‡¶¶‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</div>
            <div class="recipe-step">‡¶®‡¶æ‡¶Æ‡¶æ‡¶®‡ßã‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶∏‡¶∞‡¶ø‡¶∑‡¶æ‡¶∞ ‡¶§‡ßá‡¶≤ ‡¶¶‡¶ø‡¶®‡•§</div>
            <div class="pro-tip">ü©∏ ‡¶è‡¶ü‡¶ø ‡¶≠‡¶æ‡¶§‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡ßá‡¶ñ‡ßá ‡¶™‡ßç‡¶∞‡¶ö‡ßÅ‡¶∞ ‡¶≤‡ßá‡¶¨‡ßÅ ‡¶¶‡¶ø‡ßü‡ßá ‡¶ñ‡¶æ‡¶¨‡ßá‡¶®‡•§ ‡¶∞‡¶ï‡ßç‡¶§ ‡¶¨‡¶æ‡ßú‡¶æ‡¶§‡ßá ‡¶è‡¶ü‡¶ø ‡¶∏‡ßá‡¶∞‡¶æ‡•§</div>
        </div>
        
        <div class="gamli-footer">Made with <span class="heart">‚ù§Ô∏è</span> for Gamli</div>

    </div>

    <!-- VIEW 3: SCHEDULE -->
    <div id="view-schedule" class="view-section">
        
        <div class="timeline-item">
            <div class="day-badge">‡¶¶‡¶ø‡¶® ‡ßß</div>
            <div class="day-content">
                <h3>‡¶Æ‡¶ø‡¶∂‡¶®: ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ ‡¶´‡¶ø‡¶®‡¶ø‡¶∂ (CRITICAL)</h3>
                <p>‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ ‡¶´‡ßç‡¶∞‡¶ø‡¶ú ‡¶õ‡¶æ‡ßú‡¶æ ‡¶¨‡ßá‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶£ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶•‡¶æ‡¶ï‡ßá ‡¶®‡¶æ‡•§ ‡¶§‡¶æ‡¶á ‡¶Ü‡¶ú‡¶ï‡ßá‡¶á ‡¶∏‡¶¨‡¶ü‡ßÅ‡¶ï‡ßÅ (‡ß®‡ß´‡ß¶ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ) ‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
                <div class="meal-list">
                    <div class="meal-item">üîπ ‡¶¶‡ßÅ‡¶™‡ßÅ‡¶∞: ‡¶Ö‡¶∞‡ßç‡¶ß‡ßá‡¶ï ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ + ‡¶≤‡ßá‡¶¨‡ßÅ + ‡¶≠‡¶æ‡¶§</div>
                    <div class="meal-item">üîπ ‡¶∞‡¶æ‡¶§: ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ö‡¶∞‡ßç‡¶ß‡ßá‡¶ï ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ + ‡¶≤‡ßá‡¶¨‡ßÅ + ‡¶≠‡¶æ‡¶§</div>
                </div>
            </div>
        </div>

        <div class="timeline-item">
            <div class="day-badge">‡¶¶‡¶ø‡¶® ‡ß®-‡ß©</div>
            <div class="day-content">
                <h3>‡¶Æ‡¶ø‡¶∂‡¶®: ‡¶∂‡¶æ‡¶ï‡¶∏‡¶¨‡¶ú‡¶ø (High Priority)</h3>
                <p>‡¶∂‡¶æ‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶£ ‡¶∞‡¶æ‡¶ñ‡¶≤‡ßá ‡¶™‡¶ö‡ßá ‡¶Ø‡¶æ‡ßü‡•§ ‡¶§‡¶æ‡¶á ‡ß®‡ßü ‡¶ì ‡ß©‡ßü ‡¶¶‡¶ø‡¶®‡ßá ‡¶∏‡¶¨ ‡¶∂‡¶æ‡¶ï ‡¶ñ‡ßá‡ßü‡ßá ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
                <div class="meal-list">
                    <div class="meal-item">üîπ ‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ: ‡¶∂‡¶æ‡¶ï + ‡¶°‡¶æ‡¶≤ ‡¶¶‡¶ø‡ßü‡ßá "‡¶Ü‡ßü‡¶∞‡¶® ‡¶∏‡ßÅ‡¶™" ‡¶¨‡¶æ‡¶®‡¶æ‡¶¨‡ßá‡¶®‡•§</div>
                    <div class="meal-item">üîπ ‡¶ü‡¶ø‡¶™‡¶∏: ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü ‡ßß ‡¶ü‡ßÅ‡¶ï‡¶∞‡ßã ‡¶≤‡ßá‡¶¨‡ßÅ ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡•§</div>
                </div>
            </div>
        </div>

        <div class="timeline-item">
            <div class="day-badge">‡¶¶‡¶ø‡¶® ‡ß™-‡ß¨</div>
            <div class="day-content">
                <h3>‡¶Æ‡¶ø‡¶∂‡¶®: ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø ‡¶™‡¶æ‡¶ì‡ßü‡¶æ‡¶∞</h3>
                <p>‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑‡•§ ‡¶è‡¶ñ‡¶® ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø ‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü‡•§ ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø ‡¶®‡¶∑‡ßç‡¶ü ‡¶π‡ßü ‡¶®‡¶æ, ‡¶§‡¶æ‡¶á ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ß‡ßÄ‡¶∞‡ßá ‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡•§</p>
                <div class="meal-list">
                    <div class="meal-item">üîπ ‡¶Æ‡ßá‡¶®‡ßÅ: ‡¶ù‡¶æ‡¶≤ ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø ‡¶≠‡¶∞‡ßç‡¶§‡¶æ‡•§</div>
                    <div class="meal-item">üîπ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ: ‡¶Ö‡¶≤‡ßç‡¶™ ‡¶≠‡¶∞‡ßç‡¶§‡¶æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ö‡¶®‡ßá‡¶ï ‡¶≠‡¶æ‡¶§ ‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü, ‡¶§‡¶æ‡¶á ‡¶ñ‡¶∞‡¶ö ‡¶¨‡¶æ‡¶Å‡¶ö‡ßá‡•§</div>
                </div>
            </div>
        </div>

        <div class="timeline-item">
            <div class="day-badge">‡¶¶‡¶ø‡¶® ‡ß≠+</div>
            <div class="day-content">
                <h3>‡¶Æ‡¶ø‡¶∂‡¶®: ‡¶∏‡¶æ‡¶∞‡¶≠‡¶æ‡¶á‡¶≠‡¶æ‡¶≤ ‡¶Æ‡ßã‡¶°</h3>
                <p>‡¶ü‡¶æ‡¶ï‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá‡•§ ‡¶è‡¶ñ‡¶® ‡¶∏‡ßü‡¶æ ‡¶¨‡ßú‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶°‡¶æ‡¶≤ ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶¶‡¶ø‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
                <div class="meal-list">
                    <div class="meal-item">üîπ ‡¶Æ‡ßá‡¶®‡ßÅ: ‡¶∏‡ßü‡¶æ ‡¶¨‡ßú‡¶ø ‡¶ï‡¶æ‡¶∞‡¶ø (‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶¶‡ßá)‡•§</div>
                    <div class="meal-item">üîπ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™: ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶™‡¶æ‡¶§‡¶≤‡¶æ ‡¶°‡¶æ‡¶≤‡•§</div>
                </div>
            </div>
        </div>

        <div class="gamli-footer">Made with <span class="heart">‚ù§Ô∏è</span> for Gamli</div>

    </div>

    <!-- BOTTOM BAR -->
    <nav class="bottom-bar">
        <button class="nav-btn active" onclick="switchView('view-list', this)">
            <span>üõí</span>
            ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü‡¶ø
        </button>
        <button class="nav-btn" onclick="switchView('view-recipes', this)">
            <span>üç≥</span>
            ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶∞‡¶æ‡¶Å‡¶ß‡¶¨‡ßã
        </button>
        <button class="nav-btn" onclick="switchView('view-schedule', this)">
            <span>üìÖ</span>
            ‡¶ñ‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∞‡ßÅ‡¶ü‡¶ø‡¶®
        </button>
    </nav>

    <script>
        /* --- LIST DATA (BENGALI) --- */
        const data = [
            {
                category: "‡¶Æ‡ßá‡¶á‡¶® ‡¶ñ‡¶æ‡¶¨‡¶æ‡¶∞ (‡¶Ü‡ßü‡¶∞‡¶® ‡¶ì ‡¶™‡ßç‡¶∞‡ßã‡¶ü‡¶ø‡¶®)",
                items: [
                    { icon: "üçó", name: "‡¶Æ‡ßÅ‡¶∞‡¶ó‡¶ø‡¶∞ ‡¶ï‡¶≤‡¶ø‡¶ú‡¶æ", detail: "‡ß®‡ß´‡ß¶ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ - (‡¶Ü‡¶ú‡¶ï‡ßá‡¶á ‡¶ï‡¶ø‡¶®‡¶¨‡ßá‡¶®)", important: true },
                    { icon: "üêü", name: "‡¶ï‡¶æ‡¶Å‡¶ö‡¶ï‡¶ø ‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø", detail: "‡ß´‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ - (‡¶¨‡¶æ‡¶≤‡ßÅ ‡¶õ‡¶æ‡ßú‡¶æ)" },
                    { icon: "ü•¨", name: "‡¶ï‡¶ö‡ßÅ ‡¶∂‡¶æ‡¶ï / ‡¶≤‡¶æ‡¶≤ ‡¶∂‡¶æ‡¶ï", detail: "‡ß®-‡ß© ‡¶Ü‡¶ü‡¶ø - (‡¶ü‡¶æ‡¶ü‡¶ï‡¶æ ‡¶®‡¶ø‡¶¨‡ßá‡¶®)" },
                    { icon: "üç≤", name: "‡¶∏‡ßü‡¶æ ‡¶¨‡ßú‡¶ø (Soya Chunks)", detail: "‡ßß‡¶ü‡¶ø ‡¶Æ‡¶ø‡¶®‡¶ø ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü" },
                    { icon: "ü•£", name: "‡¶Æ‡¶∏‡ßÅ‡¶∞ ‡¶°‡¶æ‡¶≤", detail: "‡ß®‡ß´‡ß¶ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ (‡¶≤‡¶æ‡¶≤ ‡¶°‡¶æ‡¶≤)" }
                ]
            },
            {
                category: "‡¶∞‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø (‡¶§‡ßá‡¶≤ ‡¶ì ‡¶Æ‡¶∏‡¶≤‡¶æ)",
                items: [
                    { icon: "üõ¢Ô∏è", name: "‡¶∏‡¶∞‡¶ø‡¶∑‡¶æ‡¶∞ ‡¶§‡ßá‡¶≤", detail: "‡ßß‡ß¶‡ß¶ ‡¶Æ‡¶ø.‡¶≤‡¶ø. ‡¶õ‡ßã‡¶ü ‡¶¨‡ßã‡¶§‡¶≤" },
                    { icon: "üßÖ", name: "‡¶™‡ßá‡¶Å‡ßü‡¶æ‡¶ú", detail: "‡ß®‡ß´‡ß¶ ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ (‡¶¨‡ßÅ‡¶ù‡ßá ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡¶¨‡ßá‡¶®)" },
                    { icon: "üßÑ", name: "‡¶∞‡¶∏‡ßÅ‡¶®", detail: "‡ßß-‡ß® ‡¶ü‡¶æ (‡¶∂‡ßÅ‡¶Å‡¶ü‡¶ï‡¶ø‡¶∞ ‡¶ó‡¶®‡ßç‡¶ß ‡¶Æ‡¶æ‡¶∞‡¶§‡ßá ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá)" },
                    { icon: "üçã", name: "‡¶≤‡ßá‡¶¨‡ßÅ (‡¶ï‡¶æ‡¶ó‡¶ú‡ßÄ)", detail: "‡ß™ ‡¶™‡¶ø‡¶∏ - ‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá (‡¶Ü‡ßü‡¶∞‡¶® ‡¶∂‡ßã‡¶∑‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)", important: true },
                    { icon: "üå∂Ô∏è", name: "‡¶ï‡¶æ‡¶Å‡¶ö‡¶æ ‡¶Æ‡¶∞‡¶ø‡¶ö", detail: "‡ßß‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞" },
                    { icon: "üßÇ", name: "‡¶≤‡¶¨‡¶£", detail: "‡¶õ‡ßã‡¶ü ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü" },
                    { icon: "üçõ", name: "‡¶Æ‡¶æ‡¶Ç‡¶∏‡ßá‡¶∞ ‡¶Æ‡¶∏‡¶≤‡¶æ", detail: "‡ßß‡¶ü‡¶ø ‡¶Æ‡¶ø‡¶®‡¶ø ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü (‡¶∞‡¶æ‡¶ß‡ßÅ‡¶®‡ßÄ/‡¶™‡ßç‡¶∞‡¶æ‡¶£)" },
                    { icon: "üî∏", name: "‡¶π‡¶≤‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶ó‡ßÅ‡¶Å‡ßú‡¶æ", detail: "‡ßß‡¶ü‡¶ø ‡¶Æ‡¶ø‡¶®‡¶ø ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ü" }
                ]
            },
            {
                category: "‡¶ï‡¶ø‡¶ö‡ßá‡¶® ‡¶ü‡ßÅ‡¶≤‡¶∏ (‡¶∏‡¶∞‡¶û‡ßç‡¶ú‡¶æ‡¶Æ)",
                items: [
                    { icon: "üî™", name: "‡¶õ‡ßã‡¶ü ‡¶ö‡¶æ‡¶ï‡ßÅ", detail: "‡¶ï‡¶Æ‡¶≤‡¶æ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ (~‡ß©‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ)" },
                    { icon: "ü™µ", name: "‡¶ï‡¶æ‡¶ü‡¶ø‡¶Ç ‡¶¨‡ßã‡¶∞‡ßç‡¶°", detail: "‡¶™‡ßç‡¶≤‡¶æ‡¶∏‡ßç‡¶ü‡¶ø‡¶ï (~‡ßÆ‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ)" },
                    { icon: "ü•Ñ", name: "‡¶ï‡¶æ‡¶†‡ßá‡¶∞ ‡¶ö‡¶æ‡¶Æ‡¶ö", detail: "‡¶™‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø" }
                ]
            }
        ];

        /* --- APP LOGIC --- */
        const container = document.getElementById('list-container');
        const STORAGE_KEY = 'blood_protocol_bengali_final';
        const THEME_KEY = 'blood_protocol_theme';
        let checkedState = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

        // Render List
        function renderList() {
            container.innerHTML = '';
            data.forEach(section => {
                const title = document.createElement('div');
                title.className = 'category-title';
                title.innerText = section.category;
                container.appendChild(title);
                
                section.items.forEach(item => {
                    const isChecked = checkedState[item.name];
                    const el = document.createElement('div');
                    el.className = `item ${isChecked ? 'checked' : ''}`;
                    el.onclick = () => toggleItem(item.name);
                    el.innerHTML = `
                        <div class="checkbox-circle"><span class="check-mark">‚úì</span></div>
                        <div class="icon-area">${item.icon}</div>
                        <div class="content">
                            <span class="name">${item.name}</span>
                            ${item.important ? `<span class="important-tag">‚ö†Ô∏è ${item.detail}</span>` : `<span class="details">${item.detail}</span>`}
                        </div>
                    `;
                    container.appendChild(el);
                });
            });
        }

        function toggleItem(name) {
            checkedState[name] = !checkedState[name];
            localStorage.setItem(STORAGE_KEY, JSON.stringify(checkedState));
            renderList();
        }

        // Hidden Reset Feature (Triple tap header)
        let tapCount = 0;
        function secretReset() {
            tapCount++;
            if(tapCount === 3) {
                if(confirm("‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶ï‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶∞‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
                    checkedState = {};
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(checkedState));
                    renderList();
                }
                tapCount = 0;
            }
        }

        // View Switcher
        function switchView(viewId, btnElement) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            btnElement.classList.add('active');
            
            window.scrollTo(0,0);
        }

        // --- DARK MODE LOGIC ---
        function toggleTheme(e) {
            if(e) e.stopPropagation(); // Prevent header click reset
            const body = document.getElementById('app-body');
            body.classList.toggle('dark-mode');
            
            // Save preference
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem(THEME_KEY, isDark ? 'dark' : 'light');
        }

        // Initialize Theme on Load
        const savedTheme = localStorage.getItem(THEME_KEY);
        if (savedTheme === 'dark') {
            document.getElementById('app-body').classList.add('dark-mode');
        }

        // Init
        renderList();

    </script>
</body>
</html>
