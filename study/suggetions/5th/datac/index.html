<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ডাটা কমিউনিকেশন - AL Hossain Rifat</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1A1A1D; /* Very Dark Gray Background */
            color: #C5C6C7; /* Light Gray Text */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        /* Styling for the star icons */
        .star-icon {
            color: #FFC107; /* Muted Gold/Orange for stars */
            margin-right: 2px;
            font-size: 0.9em;
        }

        /* Styling for individual question boxes */
        .question-item {
            border: 1px solid rgba(255, 255, 255, 0.1); /* Subtle light border for dark theme */
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); /* More prominent dark shadow */
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            line-height: 1.5;
            color: #D1D5DB; /* Lighter text color for questions inside boxes (tailwind gray-300) */
        }

        /* Color coding for question importance on dark theme */
        .bg-star-level-3 {
            background-color: rgba(102, 252, 241, 0.1); /* Subtle cyan tint */
        }
        .bg-star-level-2 {
            background-color: rgba(69, 162, 158, 0.1); /* Subtle teal tint */
        }
        .bg-star-level-1 {
            background-color: rgba(255, 255, 255, 0.05); /* Very subtle light tint */
        }

        /* Styling for the copy and AI buttons */
        .action-button {
            flex-shrink: 0;
            width: 1.5rem;
            height: 1.5rem;
            cursor: pointer;
            color: #7F8C8D; /* Light gray icon color */
            transition: color 0.2s ease-in-out;
            display: flex; /* To center SVG */
            justify-content: center;
            align-items: center;
        }
        .action-button:hover {
            color: #66FCF1; /* Bright cyan on hover */
        }

        /* Main content area to take remaining space and handle overflow */
        .content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Removed max-height from tab-content-wrapper to allow main to scroll */
        .tab-content-wrapper {
            -webkit-overflow-scrolling: touch;
            padding-right: 0.5rem; /* Keep some padding */
            overflow: hidden; /* Prevent content overflow during animations */
        }

        /* Custom Scrollbar Styles for main content area and AI modal content */
        main::-webkit-scrollbar,
        .tab-content-wrapper::-webkit-scrollbar,
        .ai-modal-content::-webkit-scrollbar { /* Apply to AI modal content as well */
            width: 8px;
        }
        main::-webkit-scrollbar-track,
        .tab-content-wrapper::-webkit-scrollbar-track,
        .ai-modal-content::-webkit-scrollbar-track {
            background: #1A1A1D;
            border-radius: 10px;
        }
        main::-webkit-scrollbar-thumb,
        .tab-content-wrapper::-webkit-scrollbar-thumb,
        .ai-modal-content::-webkit-scrollbar-thumb {
            background-color: #45A29E;
            border-radius: 10px;
            border: 2px solid #1A1A1D;
        }
        main::-webkit-scrollbar-corner,
        .tab-content-wrapper::-webkit-scrollbar-corner,
        .ai-modal-content::-webkit-scrollbar-corner {
            background: transparent;
        }
        /* Firefox scrollbar styles */
        main, .ai-modal-content { /* Apply to main and AI modal content */
            scrollbar-width: thin;
            scrollbar-color: #45A29E #1A1A1D;
        }

        /* Animations for chapter and tab content */
        .fade-in-chapter {
            animation: fadeIn 0.5s ease-out;
        }

        .fade-in-tab {
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive sidebar for mobile */
        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            .sidebar {
                width: 75%;
                background-color: rgba(25, 35, 45, 0.6);
                backdrop-filter: blur(25px);
                border-right: 1px solid rgba(255, 255, 255, 0.15);
                transform: translateX(-100%);
                transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
                z-index: 50;
                height: 100vh; /* This is good for mobile fixed position */
                padding-left: 1.5rem;
                padding-right: 1.5rem;
                position: fixed; /* Ensure it stays fixed on mobile */
                overflow-y: auto; /* Enable scrolling for sidebar on mobile */
            }
            .sidebar.active {
                transform: translateX(0);
            }
            .content-area {
                margin-left: 0;
                padding-bottom: 5rem;
            }
            .overlay {
                display: none;
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }
            .overlay.active {
                display: block;
                opacity: 1;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 40;
            }
            footer {
                padding-top: 0.5rem;
                padding-bottom: 0.5rem;
            }
            /* Adjust header to be more compact on mobile */
            header .max-w-4xl {
                    padding-top: 0.5rem;
                    padding-bottom: 0.5rem;
            }
            header .text-xl, header .text-2xl {
                font-size: 1.25rem;
            }
            header .text-base, header .text-lg {
                font-size: 0.875rem;
            }
            header .font-bold {
                font-size: 1.125rem;
            }

            /* Fix X button position for mobile sidebar */
            .sidebar-header {
                position: relative; /* Make it a positioning context for the button */
                width: 100%; /* Ensure it spans the width to allow button to align right */
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 1rem;
            }
            .sidebar-close-button {
                position: absolute; /* Position relative to .sidebar-header */
                top: 0.5rem; /* Adjust as needed */
                right: 0.5rem; /* Adjust as needed */
                background: none;
                border: none;
                color: #C5C6C7; /* Light gray color */
                font-size: 2rem; /* Larger for easy tapping */
                cursor: pointer;
                line-height: 1;
                padding: 0.25rem;
                border-radius: 0.25rem;
                transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            }
            .sidebar-close-button:hover {
                background-color: rgba(255, 255, 255, 0.1);
                color: #66FCF1;
            }
        }
        /* Fixed Footer */
        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            left: 0;
            z-index: 30;
            padding: 0.5rem;
            background-color: #1F2833;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
        }

        /* Ensure main content takes remaining space and doesn't hide behind fixed footer */
        .page-content-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: hidden; /* Only main scrolls */
            position: relative;
        }
        main {
            flex: 1;
            overflow-y: auto; /* Main content area handles scrolling */
            padding-bottom: 4rem; /* Space for the fixed footer */
        }
        /* Header elements */
        header {
            background-color: #1F2833;
            color: #FFFFFF;
        }
        header .border-blue-200 {
            border-color: rgba(255, 255, 255, 0.2) !important;
        }

        /* Chapter and Tab elements */
        .chapter-content h2 {
            color: #66FCF1;
        }
        .tab-button {
            background-color: #2C3E50;
            color: #C5C6C7;
            border-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }
        .tab-button:hover {
            background-color: #34495E;
        }
        .tab-button.active-tab {
            background-color: #45A29E;
            color: #FFFFFF;
            border-color: #45A29E;
        }
        .tab-content-wrapper {
            background-color: #1F2833;
            border-color: rgba(255, 255, 255, 0.1);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }

        /* AI Modal Answer Styling */
        .ai-answer-part {
            margin-bottom: 1rem;
        }
        .ai-answer-part pre {
            background-color: #1A1A1D; /* Darker background for code */
            color: #66FCF1; /* Cyan for code text */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto; /* Enable horizontal scroll for long code lines */
            font-family: 'Cascadia Code', 'Fira Code', 'monospace'; /* Monospaced font for code */
            line-height: 1.4;
            tab-size: 4;
            white-space: pre-wrap; /* Preserve line breaks and spaces */
            word-break: break-word; /* Break long words */
        }
        .ai-answer-part p {
            white-space: pre-wrap; /* Preserve line breaks and spaces */
            word-break: break-word; /* Break long words */
        }

        /* AI Modal specific positioning for true centering */
        .ai-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .ai-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .ai-modal-content {
            background-color: #1F2833;
            color: #C5C6C7;
            border-radius: 0.75rem;
            width: 90%;
            max-width: 600px;
            max-height: 90vh; /* Limits height, enables internal scroll if content is too long */
            overflow-y: auto; /* Internal scrolling for modal content */
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            transform: translateY(0);
            opacity: 1;
            transition: none;
        }
    </style>
</head>
<body class="flex flex-col">

    <!-- Mobile Menu Button -->
    <button id="mobile-menu-button" class="md:hidden fixed top-4 left-4 z-50 p-2 bg-[#45A29E] text-white rounded-md shadow-lg">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>

    <!-- Overlay for mobile menu -->
    <div id="sidebar-overlay" class="overlay hidden"></div>

    <!-- Left Sidebar for Navigation -->
    <aside id="sidebar" class="sidebar bg-[#1F2833] w-64 p-6 flex flex-col items-start space-y-4 shadow-xl fixed md:sticky top-0 h-full md:h-h-screen z-40">
        <div class="sidebar-header">
            <h2 class="text-2xl font-bold text-white">সূচীপত্র</h2>
            <button id="sidebar-close-button" class="md:hidden sidebar-close-button">
                &times;
            </button>
        </div>
        <nav class="w-full">
            <ul class="space-y-2">
                <li><a href="#chapter1" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link active" data-chapter-id="chapter1">অধ্যায়-১: ডাটা কমিউনিকেশন বেসিক</a></li>
                <li><a href="#chapter2" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter2">অধ্যায়-২: ডাটা ট্রান্সমিশন ধারণা</a></li>
                <li><a href="#chapter3" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter3">অধ্যায়-৩: ট্র্যান্সমিশন মিডয়া ও সংযোগ</a></li>
                <li><a href="#chapter4" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter4">অধ্যায়-৪: অ্যানালগ কমিউনিকেশন সিস্টেম</a></li>
                <li><a href="#chapter5" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter5">অধ্যায়-৫: ডিজিটাল কমিউনিকেশন সিস্টেম</a></li>
                <li><a href="#chapter6" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter6">অধ্যায়-৬: মাল্টিপ্লেক্সিং টেকনিকস</a></li>
                <li><a href="#chapter7" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter7">অধ্যায়-৭: ডাটা ফ্লো কন্ট্রোল</a></li>
                <li><a href="#chapter8" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter8">অধ্যায়-৮: এরর ডিটেকশন এবং কারেকশন</a></li>
                <li><a href="#chapter9" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter9">অধ্যায়-৯: নেটওয়ার্ক মডেল এবং স্ট্যান্ডার্ড</a></li>
                <li><a href="#chapter10" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter10">অধ্যায়-১০: ডাটা লিংক লেয়ার এবং সুইচিং টেকনিক</a></li>
                <li><a href="#chapter11" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter11">অধ্যায়-১১: কমিনিকেশন ডিভাইস এবং প্রটোকল</a></li>
                <li><a href="#chapter12" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter12">অধ্যায়-১২: নেটওয়ার্ক অ্যাড্রেসিং</a></li>
                <li><a href="#chapter13" class="block w-full py-2 px-3 rounded-md text-white hover:bg-[#66FCF1] hover:text-[#1A1A1D] transition duration-200 ease-in-out chapter-nav-link" data-chapter-id="chapter13">অধ্যায়-১৩: ওয়‍্যারলেস কমিউনিকেশন</a></li>
            </ul>
        </nav>
    </aside>

    <!-- Main Content Area Wrapper -->
    <div class="flex-1 flex flex-col md:ml-64 page-content-wrapper">
        <!-- Header Section -->
        <header class="bg-[#1F2833] text-white p-6 shadow-xl mb-8 flex-shrink-0">
            <div class="max-w-4xl mx-auto text-center">
                <p class="text-xl sm:text-2xl mt-2 font-semibold">ডাটা কমিউনিকেশন</p>
                <div class="mt-4 border-t border-blue-200 pt-4">
                    <p class="text-base sm:text-lg">বিষয়: ডাটা কমিউনিকেশন, সেমিস্টার: ৫ম</p>
                    <p class="text-base sm:text-lg">টেকনোলজি: কম্পিউটার (প্রবিধান ২০২২)</p>
                    <p class="text-lg sm:text-xl font-bold mt-2">Made by Al Hossain Rifat</p>
                </div>
            </div>
        </header>

        <!-- Main Content Area for chapters (scrollable if needed) -->
        <main class="max-w-4xl mx-auto flex-1 w-full px-4 sm:px-6 md:px-8">
            <!-- Chapter Content Container -->
            <div id="chapter-content-container" class="pb-8">
                <!-- Content will be dynamically loaded here by JavaScript -->
            </div>
        </main>

        <!-- Footer Section -->
        <footer class="p-2 text-white text-center shadow-xl flex-shrink-0">
            <p class="text-sm sm:text-base">Prepared with dedication by Al Hossain Rifat</p>
        </footer>
    </div>

    <!-- AI Answer Modal -->
    <div id="aiAnswerModal" class="ai-modal-overlay">
        <div class="ai-modal-content">
            <div class="flex justify-between items-center mb-4 pb-2 border-b border-gray-700">
                <h3 class="text-xl font-semibold text-white">AI Assistant</h3>
                <button id="aiModalCloseButton" class="ai-modal-close-button">&times;</button>
            </div>
            <div class="mb-4">
                <p class="font-medium text-lg mb-2">প্রশ্ন:</p>
                <p id="modalQuestionText" class="p-3 bg-[#2C3E50] rounded-md text-[#D1D5DB]"></p>
            </div>
            <div class="mb-4">
                <p class="font-medium text-lg mb-2">উত্তর:</p>
                <div id="modalAnswerContent" class="p-3 bg-[#2C3E50] rounded-md min-h-[100px] flex flex-col text-[#D1D5DB]">
                    <div class="loading-spinner hidden self-center"></div>
                    <div id="modalAnswerParts">
                        <p id="modalAnswerPlaceholder" class="text-center">উত্তর লোড হচ্ছে...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Your API key
        // This API_KEY is intentionally left empty. The Canvas environment
        // will automatically provide the necessary API key at runtime for Google services.
        const API_KEY = "AIzaSyCyQQichX7ztAZqalLt2jvOevhrotmzAyQ"; 

        document.addEventListener('DOMContentLoaded', () => {

            // Centralized Data Structure for Questions
            const chapterData = {
                chapter1: {
                    title: 'অধ্যায়-১: ডাটা কমিউনিকেশন বেসিক',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'ইলেকট্রনিক কমিউনিকেশনের সংজ্ঞা দও।', stars: 3 },
                            { text: 'ইলেকট্রনিক মিডিয়াগুলো কী কী?', stars: 2 },
                            { text: 'ডাটা কমিউনিকেশনের সংজ্ঞা দাও।', stars: 3 },
                            { text: 'ডাটা কমিউনিকেশনের সংজ্ঞা দাও।', stars: 2 },
                            { text: 'ফ্রিকুয়েন্সির সংজ্ঞা দাও।', stars: 3 },
                            { text: 'Communication software-এর কাজ কী?', stars: 1 },
                            { text: 'ডাটা কমিউনিকেশন সফটওয়‍্যারের মৌলিক উপাদানসমূহের কাজ উল্লেখ কর।', stars: 2 },
                            { text: 'ডাটা কমিউনিকেশনের বেসিক এলিমেন্টগুলোর কাজ লেখ।', stars: 3 },
                            { text: 'সিরিয়াল কমিউনিকেশন কী?', stars: 2 },
                            { text: 'একটি Simplified কমিউনিকেশন মডেল এর চিত্র অঙ্কন কর।', stars: 2 },
                            { text: 'Electromagnetic spectrum-এ ব্যবহৃত ফ্রিকুয়েন্সিসমূহের নাম লেখ।', stars: 1 },
                            { text: 'চারটি কমিউনিকেশন প্রসেসের নাম লেখ।', stars: 1 }
                        ],
                        sis: [
                            { text: 'ইলেকট্রনিক কমিউনিকেশন বলতে কী বুঝায়?', stars: 2 },
                            { text: 'ডাটা কমিউনিকেশন বলতে কী বুঝায়?', stars: 3 },
                            { text: 'ডিজিটাল ও অ্যানালগ কমিউনিকেশনের মধ্যে পার্থক্য লেখ।', stars: 3 },
                            { text: 'কমিউনিকেশনে Adapter-এর কাজ বর্ণনা কর।', stars: 2 },
                            { text: 'ডাটা কমিউনিকেশন ও ভয়েস কমিউনিকেশনের মধ্যে পার্থক্য লেখ।', stars: 2 },
                            { text: 'Transmission communication system কখন ও কেন ব্যবহার করা হয়?', stars: 2 }
                        ],
                        rsis: [
                            { text: 'ব্লক ডায়াগ্রাম অঙ্কন পূর্বক কমিউনিকেশন সিস্টেমের বর্ণনা দাও।', stars: 3 },
                            { text: 'কমিউনিকেশন সিস্টেমের জন্য ফ্রিকুয়েন্সি ব্যান্ডের চর বন্টনগুলো চিত্রসহ লেখ।', stars: 2 }
                        ]
                    }
                },
                chapter2: {
                    title: 'অধ্যায়-২: ডাটা ট্রান্সমিশন ধারণা',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'ডাটা কমিউনিকেশনের মৌলিক বৈশিষ্ট্যগুলো কী কী?', stars: 3 },
                            { text: 'ডাটা কমিউনিকেশনের মৌলিক উপাদানগুলো কী কী?', stars: 3 },
                            { text: 'Wavelength-এর সংজ্ঞা লেখ।', stars: 1 },
                            { text: 'Spectrum-এর সংজ্ঞা লেখ।', stars: 3 },
                            { text: 'Bandwidth-এর সংজ্ঞা লেখ।', stars: 3 },
                            { text: 'Propagation time কাকে বলে।', stars: 3 },
                            { text: 'SNR কাকে বলে?', stars: 3 },
                            { text: 'Data rate-এর সংজ্ঞা দাও।', stars: 1 },
                            { text: 'অ্যাসিনক্রোনাস কমিউনিকেশন কী?', stars: 2 },
                            { text: 'সিনক্রোনাস কমিউনিকেশন বলতে কী বুঝায়?', stars: 2 },
                            { text: 'ডাটা ট্রান্সমিশনের মোডগুলো নাম লেখ।', stars: 1 },
                            { text: 'ডাটা ট্রান্সমিশন Efficiency বলতে কী বুঝায়?', stars: 2 },
                            { text: 'ডাটা ট্রান্সিমিশন মোড বলতে কী বুঝায়?', stars: 1 },
                            { text: 'চ্যানেল Capacity কাকে বলে?', stars: 1 },
                            { text: 'EMI কী?', stars: 2 },
                            { text: 'Propagation delay কী?', stars: 3 },
                            { text: 'কমিউনিকেশন স্ট্যান্ডার্ড বলতে কী বুঝায়?', stars: 3 },
                            { text: 'কমিউনিকেশন স্যান্ডার্ড বলতে কী বুঝায়?', stars: 1 }
                        ],
                        sis: [
                            { text: 'ফ্রিকুয়েন্সি বলতে কী বুঝায়? সংক্ষেপে আলোচনা কর।', stars: 2 },
                            { text: 'Bandwidth বলতে কী বুঝায়? আলোচনা কর।', stars: 2 },
                            { text: 'Bandwidth ও Data Rate-এর মধ্যকার পার্থক্য লেখ।', stars: 3 },
                            { text: 'Half-duplex ট্রান্সমিশন মোড বলতে কী বুঝায়?', stars: 1 },
                            { text: 'Full-duplex ট্রান্সমিশন মোড বলতে কী বুঝায়?', stars: 3 },
                            { text: 'Attenuation বলতে কী বুঝায়?', stars: 3 },
                            { text: 'Distortion বলতে কী বুঝায়? সংক্ষেপে লেখ।', stars: 1 },
                            { text: 'সিনক্রোনাস ও অ্যাসিনক্রোনাস ডাটা ট্রান্সমিশনের মধ্যে পার্থক্য লেখ।', stars: 3 },
                            { text: 'ডাটা কমিউনিকেশনের বেসিক উপাদান গুলো বর্ণনা কর।', stars: 2 },
                            { text: 'পূর্ণনাম লেখ: SDLC, NIC, LAP, DHLC.', stars: 2 }
                        ],
                        rsis: [
                            { text: 'চিত্রসহ সিনক্রোনাস ও অ্যাসিনক্রোনাস কমিউনিকেশন পদ্ধতি আলোচনা কর।', stars: 3 },
                            { text: 'Communication mode গুলোা চিত্রসহকারে বর্ণনা কর।', stars: 3 },
                            { text: 'সিমপ্লেক্স, হাফ-ডুপ্লেক্স ও ফুল-ডুপ্লেক্স সিগন্যাল ট্রান্সমিশন মোড কী? ব্যবহারসহ লেখ।', stars: 3 }
                        ]
                    }
                },
                chapter3: {
                    title: 'অধ্যায়-৩: ট্র্যান্সমিশন মিডয়া ও সংযোগ',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'Transmission media কী?', stars: 3 },
                            { text: 'Transmission media কে কয়ভাগে ভাগ করা হয়েছে ও কী কী?', stars: 3 },
                            { text: 'Guided transmission-এর প্রকারভেদ দেখাও।', stars: 3 },
                            { text: 'Open wire সর্বোচ্চ কত ফুট দূরত্বের মধ্যে ডাটা আদান-প্রদান করতে পারে?', stars: 2 },
                            { text: 'UTP ক্যাবলে কত জোড়া তার থাকে?', stars: 1 },
                            { text: 'Co-axial ক্যাবল বলতে কী বুঝায়?', stars: 2 },
                            { text: 'Co-axial ক্যাবলে কয়টি অংশ থাকে ও কী কী?', stars: 1 },
                            { text: 'কোর কী দিয়ে তৈরি?', stars: 1 },
                            { text: '1 THz = ? Hz', stars: 2 },
                            { text: 'STP ক্যাবলের বৈশিষ্ট্যগুলো লেখ।', stars: 3 },
                            { text: 'UTP ক্যাবলের বৈশিষ্ট্যসমূহ লেখ।', stars: 2 },
                            { text: 'RJ-45 Connector কোন Cable-এ ব্যবহার করা হয়?', stars: 2 },
                            { text: 'Optical fiber কয় ধরনের ও কী কী? তাদের গঠন লেখ।', stars: 3 },
                            { text: 'অপটিক্যাল ফাইবার বলতে কী বুঝায়?', stars: 3 },
                            { text: 'RJ-45 Connector কী কাজে ব্যবহৃত হয়?', stars: 3 },
                            { text: 'Thicknet Co-axial Cable-এর বৈশিষ্ট্যগুলো লেখ।', stars: 3 }
                        ],
                        sis: [
                            { text: 'টেলিকমিউনিকেশনের ক্ষেত্রে Transmission media-এর প্রকারভেদ দেখাও।', stars: 3 },
                            { text: 'UTP ক্যাবলের গঠন সম্পর্কে আলোচনা কর।', stars: 3 },
                            { text: 'Twisted pair ক্যাবলের Characteristics (বৈশিষ্ট্য) উল্লেখ কর।', stars: 3 },
                            { text: 'Co-axial cable-এর Characteristics (বৈশিষ্ট্য) উল্লেখ কর।', stars: 3 },
                            { text: 'Fiber-optic ক্যাবলের বৈশিষ্ট্যসমূহ (Characteristics) উল্লেখ কর।', stars: 2 },
                            { text: 'Fiber-optic ক্যাবলে ব্যবহৃত কানেক্টরসমূহ কী কী? তাদের বৈশিষ্ট্য উল্লেখ কর।', stars: 2 },
                            { text: 'Twisted pair ক্যাবলের সুবিধা-অসুবিধা লেখ।', stars: 3 },
                            { text: 'Fiber-optic ক্যাবলের সুবধি-অসুবিধাগুলো লেখ।', stars: 3 },
                            { text: 'সাবমেরিন ক্যাবলের বৈশিষ্ট্য লেখ।', stars: 1 },
                            { text: 'UTP ক্যাবলের বৈশিষ্ট্যগুলো লেখ।', stars: 2 }
                        ],
                        rsis: [
                            { text: 'Co-axial ক্যাবলের গঠন সম্পর্কে আলোচনা কর (চিত্রসহ)।', stars: 2 },
                            { text: 'Fiber-optic ক্যাবলের গঠন সম্পর্কে (চিত্রসহ) বিস্তারিত আলোচনা কর।', stars: 3 }
                        ]
                    }
                },
                chapter4: {
                    title: 'অধ্যায়-৪: অ্যানালগ কমিউনিকেশন সিস্টেম',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'মডুলেশন কী?', stars: 3 },
                            { text: 'অ্যামপ্লিচিউড মডুলেশন কাকে বলে?', stars: 3 },
                            { text: 'টেলিফোন নেটওয়ার্কের ভয়েস ফ্রিকুয়েন্সি কত?', stars: 3 },
                            { text: 'অ্যানালগ-টু-ডিজিটাল মডুলেশনের মূল টেকনিকগুলো লেখ।', stars: 2 },
                            { text: 'লাইন কোডিং কয়প্রকার ও কী কী?', stars: 3 },
                            { text: 'মডুলেশন ইনডেক্স কাকে বলে?', stars: 1 },
                            { text: 'ফ্রিকুয়েন্সি স্পেকট্রাম কাকে বলে?', stars: 1 },
                            { text: 'মডুলেশন ইনডেক্স কী?', stars: 2 },
                            { text: 'Sideband কী?', stars: 1 },
                            { text: 'PLL কী?', stars: 1 },
                            { text: 'ফ্রিকুয়েন্সি মডুলেশনের Application-গুলো কী কী?', stars: 3 },
                            { text: 'মডেম কী?', stars: 3 },
                            { text: 'Baud rate কী?', stars: 2 },
                            { text: 'Bit rate এবং Baus rate-এর মধ্যকার সম্পর্ক লেখ।', stars: 2 },
                            { text: 'ক্যারিয়ার সিগন্যাল কাকে বলে?', stars: 3 },
                            { text: 'ASK, FSK, PSK, BASK, BFSK, BPSK, QPSK, QAM,OOK, TDMA.', stars: 3 },
                            { text: 'ASK-এর মূলনীতি লেখ।', stars: 2 },
                            { text: 'TIME domain concept কী?', stars: 2 },
                            { text: 'Amplitude modulation -এর মূল সুবিধা কী?', stars: 2 },
                            { text: 'মডুলেশনের কাজ কী?', stars: 3 },
                            { text: 'মডুলেশন ও ডিমডুলেশন কেন প্রয়োজন হয়?', stars: 3 }
                        ],
                        sis: [
                            { text: 'মডুলেশনের ব্যবহার লেথ।', stars: 3 },
                            { text: 'AM এবং FM এর মধ্যকার পার্থক্য দেখাও।', stars: 2 },
                            { text: 'Carrier signal বলতে কী বুঝায়?', stars: 2 },
                            { text: 'FSK বলতে কী বুঝায়?', stars: 3 },
                            { text: 'PSK বলতে কী বুঝায়?', stars: 3 }
                        ],
                        rsis: [
                            { text: 'ASK, FSK, PSK-এর সুবিধা ও অসুবিধাসমূহ লেখ।', stars: 3 },
                            { text: 'প্রয়োজনীয় Waveform এর চিত্রসহ FM, PM এবং AM বর্ণনা দাও।', stars: 3 },
                            { text: 'চিত্রসহ Amplitude modulation বর্ণনা করা।', stars: 2 }
                        ]
                    }
                },
                chapter5: {
                    title: 'অধ্যায়-৫: ডিজিটাল কমিউনিকেশন সিস্টেম',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'ডিজিটাল মডুলেশনের সংজ্ঞা দাও?', stars: 3 },
                            { text: 'ব্লক কোডিং কী?', stars: 3 },
                            { text: 'লাইন কোডিং কী?', stars: 3 },
                            { text: 'লাইন কোডিং-এর ক্যাটাগরিগুলো উল্লেখ কর।', stars: 2 },
                            { text: 'Unipolar লাইন কোডিং-এর সুবিধা ও অসুবিধাগুলো লেখ।', stars: 2 },
                            { text: 'ব্লক কোডিং এর Step-গুলো কী কী?', stars: 2 },
                            { text: 'ডিজিটাল ও অ্যানালগ সিগন্যালের মধ্যে পার্থক্য লেখ।', stars: 2 },
                            { text: 'ISDN-এর পূর্ণনাম লেখ।', stars: 2 },
                            { text: 'কোয়ান্টাইজেশন কী?', stars: 3 },
                            { text: 'স্যাম্পলিং ও কোয়ান্টাইজেশন কী?', stars: 3 }
                        ],
                        sis: [
                            { text: 'লাইন কোডিং বলতে কী বুঝ?', stars: 2 },
                            { text: '4B/5B ব্লক কোডিং ব্যবহার করে NRZ-1 লাইন কোডিং ব্যাখ্যা কর।', stars: 2 },
                            { text: 'Polar encoding কাকে বলে? এটি কত প্রকার ও কী কী?', stars: 3 },
                            { text: 'Unipolar line coding সম্পর্কে সংক্ষেপে লেখ।', stars: 3 },
                            { text: 'NRZ-I সম্পর্কে সংক্ষেপে লেখ।', stars: 2 },
                            { text: 'Bipolar বলতে কী বুঝায়?', stars: 3 },
                            { text: 'Line coding এবং Block coding-এর মাঝে পার্থক্য লেখ।', stars: 1 }
                        ],
                        rsis: [
                            { text: 'ব্লক ডায়াগ্রামসহ ডিজিটাল কমিউনিকেশনের বর্ণনা দাও।', stars: 3 },
                            { text: 'টাইমিং ডায়াগ্রামসহ বিভিন্ন প্রকার পোলার ইনকোডিং-এর বর্ণনা দাও।', stars: 2 },
                            { text: '4B/5B কোডিং ব্যবহার করে NRZ-I লাইন কোডিং স্কিম বর্ণনা কর।', stars: 3 },
                            { text: 'ব্লক কোডিং সিস্টেম বর্ণনা কর।', stars: 3 }
                        ]
                    }
                },
                chapter6: {
                    title: 'অধ্যায়-৬: মাল্টিপ্লেক্সিং টেকনিকস',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'Multiplexing-এর সংজ্ঞা দাও।', stars: 3 },
                            { text: 'Demultiplexing -সংজ্ঞা দাও।', stars: 3 },
                            { text: 'SONET কী?', stars: 1 },
                            { text: 'TDMA বলতে কী বুঝ?', stars: 1 },
                            { text: 'ডিজিটাল মাল্টিপ্লেক্সিং কী?', stars: 1 },
                            { text: 'Multiplexing কেন করা হয়?', stars: 3 },
                            { text: 'Time division multiplexing বলতে কী বুঝায়?', stars: 3 }
                        ],
                        sis: [
                            { text: 'মাল্টিপ্লেক্সিং প্রক্রিয়াটি বর্ণনা কর।', stars: 2 },
                            { text: 'মাল্টিপ্লেক্সিং সিস্টেমের ক্যাটাগরিগুলো উল্লেখ কর।', stars: 3 },
                            { text: 'ফ্রিকুয়েন্সি ডিভিশন মাল্টিপ্লেক্সিং বলতে কী বুঝ?', stars: 3 },
                            { text: 'সংক্ষেপে FDM-এর বর্ণনা দাও।', stars: 2 },
                            { text: 'ফ্রিকুয়েন্সি ডিভিশন মাল্টিপ্লেক্সিং প্রসেস সম্পর্কে লেখ।', stars: 2 },
                            { text: 'TDM ও FDM-এর মধ্যে পার্থক্য লেখ।', stars: 3 },
                            { text: 'বেসব্যান্ড ও ব্রডব্যান্ড বলতে কী বুঝায়?', stars: 3 },
                            { text: 'বেসব্যান্ড ও ব্রডব্যান্ড ট্রান্সমিশনের মাঝে পার্থক্য লেখ।', stars: 3 }
                        ],
                        rsis: [
                            { text: 'Frequency Division Multiplexing পদ্ধতি Block diafram-সহ বর্ণনা কর।', stars: 3 },
                            { text: 'ফ্রিকুয়েন্সি ডিভিশন মাল্টিপ্লেক্সিং এবং ডিমাল্টিপ্লেক্সিং পদ্ধতি প্রসেসের বর্ণনা কর।', stars: 3 },
                            { text: 'টাইম ডিভিশন মাল্টিপ্লেক্সিং-এর বর্ণনা দাও।', stars: 3 }
                        ]
                    }
                },
                chapter7: {
                    title: 'অধ্যায়-৭: ডাটা ফ্লো কন্ট্রোল',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'Flow control বলতে কী বুঝ?', stars: 3 },
                            { text: 'ডাটা ফ্লো কন্ট্রোলের পদ্ধতি লেখ।', stars: 2 },
                            { text: 'ফ্রেম কী?', stars: 3 },
                            { text: 'Window কী?', stars: 1 }
                        ],
                        sis: [
                            { text: 'ডাটা ফ্লো কন্ট্রোল বলতে কী বুঝ?', stars: 2 },
                            { text: 'ডাটা ফ্লো কন্ট্রোলের প্রয়োজনীয়তা লেখ।', stars: 3 },
                            { text: 'Stop and wait প্রটোকলের সুবিধা ও অসুবিধাগুলো লেখ।', stars: 3 },
                            { text: 'Sliding window প্রটোকলের সুবিধা ও অসুবিধাগুলো লেখ।', stars: 2 }
                        ],
                        rsis: [
                            { text: 'Stope and wait প্রটোকলের চিত্রসহ বর্ণনা কর।', stars: 2 },
                            { text: 'Sliding window প্রটোকল বর্ণনা কর।', stars: 1 }
                        ]
                    }
                },
                chapter8: {
                    title: 'অধ্যায়-৮: এরর ডিটেকশন এবং কারেকশন',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'এরর (Error) কী?', stars: 2 },
                            { text: 'Error কত প্রকার ও কী কী?', stars: 3 },
                            { text: 'ব্রার্স্ট এরর (Burst Error) বলতে কী বুঝ?', stars: 1 },
                            { text: 'প্যারিটি বিট কী?', stars: 3 },
                            { text: 'এরর সংশোধন বলতে কী বুঝ?', stars: 2 }
                        ],
                        sis: [
                            { text: 'Single-bit error বর্ণনা কর।', stars: 1 },
                            { text: 'Multiple-bit error চিত্রসহ বর্ণনা কর।', stars: 1 },
                            { text: 'বিভিন্ন দরণের ত্রুটি শনাক্ত করণ কৌশলগুলো লেখ।', stars: 3 },
                            { text: 'বিভিন্ন ধরনের Error correction কৌশল লেখ।', stars: 2 },
                            { text: 'অটোমেটিক রিপিটার রিকুয়েস্ট (ARQ) পদ্ধতি লেখ।', stars: 3 },
                            { text: 'Stop and wait ARQ পদ্ধতির চিত্র অঙ্কন কর।', stars: 1 }
                        ],
                        rsis: [
                            { text: 'চেকসাম (Checksum) এরর ডিটেকশন কৌশল বর্ণনা কর।', stars: 2 },
                            { text: 'হামিং কোড এরর কারেকশন পদ্ধতি বর্ণনা কর।', stars: 3 }
                        ]
                    }
                },
                chapter9: {
                    title: 'অধ্যায়-৯: নেটওয়ার্ক মডেল এবং স্ট্যান্ডার্ড',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'OSI বলতে কী বুঝ?', stars: 2 },
                            { text: 'OSI মডেল উন্নয়নের কারণ কী?', stars: 3 },
                            { text: 'TCP/IP কী?', stars: 3 },
                            { text: 'ISO ও OSI কী?', stars: 2 },
                            { text: 'সেগমেন্টেশন কী?', stars: 2 },
                            { text: 'উপাত্তের প্রবাহ নিয়ন্ত্রণের প্রয়োজনীয়তা কী?', stars: 1 },
                            { text: 'ইন্টারনেটে কোন প্রটোকল ব্যবহৃত হয়?', stars: 2 },
                            { text: 'পূর্ণনাম লেখ ISDN, DNS, ISO, ASK.', stars: 2 },
                            { text: 'রাউটিং কী?', stars: 1 },
                            { text: 'ডাটা এরক্রিপশন বলতে কী বুঝ?', stars: 1 },
                            { text: 'প্রটোকল সুইট (Protocol suite) কী?', stars: 3 }
                        ],
                        sis: [
                            { text: 'TCP/IP-এর বর্ণনা দাও।', stars: 3 },
                            { text: 'নেটওয়ার্ক স্ট্যান্ডার্ডাইজেশনের প্রয়োজনীয়তা বর্ণনা কর।', stars: 2 },
                            { text: 'Synchronization বলতে কী বুঝ?', stars: 1 },
                            { text: 'OSI মডেলে ট্রান্সপোর্ট লেয়ারের গুরুত্ব লেখ।', stars: 2 }
                        ],
                        rsis: [
                            { text: 'OSI মডেলের লেয়ারগুলোর বর্ণনা দাও।', stars: 3 },
                            { text: 'TCP/IP প্রটোকলের প্রতিটি Layer-এর টাস্ক ব্যাখ্যা কর।', stars: 3 },
                            { text: 'TCP/IP এবং OSI মডেলের অন্তঃসংযোগ বর্ণনা কর।', stars: 2 }
                        ]
                    }
                },
                chapter10: {
                    title: 'অধ্যায়-১০: ডাটা লিংক লেয়ার এবং সুইচিং টেকনিক',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'DLL কী?', stars: 2 },
                            { text: 'ডাটা লিংক লেয়ার কী কী মৌলিক ফাংশন সম্পন্ন করে?', stars: 3 },
                            { text: 'ফ্রেমিং কী?', stars: 1 },
                            { text: 'এরর (Error) কন্ট্রোল বলতে কী বুঝ?', stars: 2 },
                            { text: 'অ্যাকসেস কন্ট্রোল বলতে কী বুঝ?', stars: 1 },
                            { text: 'Switching কী?', stars: 2 },
                            { text: 'সুইচিং-এর প্রকারভেদ লেখ।', stars: 3 },
                            { text: 'নেটওয়ার্ক সিকিউরিটি বলতে কী বুঝায়?', stars: 3 },
                            { text: 'HDLC কী?', stars: 2 }
                        ],
                        sis: [
                            { text: 'ডাটা লিংক কন্ট্রোল প্রটোকলের কাজ কী?', stars: 2 },
                            { text: 'সুইচিং (Switching) বলতে কী বুঝ?', stars: 3 },
                            { text: 'মেসেজ সুইচিং নেটওয়ার্ক বর্ণনা কর।', stars: 2 },
                            { text: 'প্যাকেট সুইচিং নেটওয়ার্কের চিত্র অঙ্কন করে বর্ণনা দাও।', stars: 3 },
                            { text: 'সার্কিট-সুইচিং-এর সুবিধাগুলো লেখ।', stars: 2 },
                            { text: 'সার্কিট-সুইচিং-এর অসুবিধাগুলো লেখ।', stars: 2 },
                            { text: 'মেসেজ সুইচিং-এর সুবিধাগুলো লেখ।', stars: 2 },
                            { text: 'মেসেজ সুইচিং-এর অসুবিধাগুলো লেখ।', stars: 2 },
                            { text: 'প্যাকেট সুইচিং-এর সুবিধাগুলো লেখ।', stars: 2 },
                            { text: 'প্যাকেট সুইচিং নেটওয়ার্কের সুবিধাগুলো লেখ।', stars: 2 }
                        ],
                        rsis: [
                            { text: 'চিত্রসহ ডাটা লিংক লেয়ারের কাজ বর্ণনা কর।', stars: 2 }
                        ]
                    }
                },
                chapter11: {
                    title: 'অধ্যায়-১১: কমিনিকেশন ডিভাইস এবং প্রটোকল',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'কমিউনিকেশন ডিভাইস কী?', stars: 2 },
                            { text: 'কয়েকটি কমিউনিকেশন ডিভাইসের নাম লেখ।', stars: 3 },
                            { text: 'প্রটোকলের প্রধান উপাদানগুলো কী কী?', stars: 3 },
                            { text: 'PDU বলতে কী বুঝায়?', stars: 2 },
                            { text: 'বিভিন্ন প্রকার নেটওয়ার্ক প্রটোকলের নাম লেখ।', stars: 2 },
                            { text: 'VoIP বলতে কী বুঝায়?', stars: 2 },
                            { text: 'HTTP এবং HTTPS এর পোর্ট নাম্বার কত?', stars: 3 },
                            { text: 'FTP এর SMTP এর পোর্ট নাম্বার কত?', stars: 3 },
                            { text: 'SSH কী?', stars: 2 },
                            { text: 'Telnet কী?', stars: 2 },
                            { text: 'DNS এর কাজ কী?', stars: 3 },
                            { text: 'IoT বলতে কী বুঝ?', stars: 2 },
                            { text: 'TCP ও UDP এর পূর্ণরূপ লেখ।', stars: 2 }
                        ],
                        sis: [
                            { text: 'প্রটোকলের ফাংশনগুলো কী কী?', stars: 2 },
                            { text: 'বিভিন্ন ধরণের প্রটোকলের ব্যবহার লেখ।', stars: 2 },
                            { text: 'প্রটোকলের বৈশিষ্ট্য গুলো কী কী?', stars: 2 },
                            { text: 'TCP এর সংক্ষিপ্ত বর্ণনা দাও।', stars: 3 },
                            { text: 'UDP এর সংক্ষিপ্ত বর্ণনা দাও।', stars: 3 },
                            { text: 'SNMP এর সংক্ষিপ্ত বর্ণনা দাও।', stars: 2 },
                            { text: 'HTTP এর সংক্ষিপ্ত বর্ণনা দাও।', stars: 3 }
                        ],
                        rsis: [
                            { text: 'ইউজার ডায়াগ্রাম প্রটোকল (UDP) বর্ণনা কর।', stars: 2 },
                            { text: 'TCP ও FTP প্রটোকল বর্ণনা কর।', stars: 3 }
                        ]
                    }
                },
                chapter12: {
                    title: 'অধ্যায়-১২: নেটওয়ার্ক অ্যাড্রেসিং',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'NIC-এর অপর নাম কী?', stars: 1 },
                            { text: 'আইপি অ্যাড্রেস কত প্রকার ও কী কী?', stars: 1 },
                            { text: 'সাবনেটিং কী?', stars: 1 },
                            { text: 'সাবনেট মাস্কের কাজ কী?', stars: 3 },
                            { text: 'আইপি অ্যাড্রেসের অংশ কয়টি ও কী কী?', stars: 2 },
                            { text: 'IEEE ও ANSI-এর পূর্ণনাম লেখ।', stars: 2 },
                            { text: 'IP address কী?', stars: 3 },
                            { text: 'পূর্ণনাম লেখ: CIDR, IP v4, IPv6.', stars: 2 },
                            { text: 'IP অ্যাড্রেস ফরম্যাটগুলো লেখ।', stars: 1 },
                            { text: '১০০.০.২.৯ কোন Class-এর IP? এটির Subnet mask কত?', stars: 1 },
                            { text: 'CIDR বলতে কী বুঝায়?', stars: 2 },
                            { text: 'প্রাইভেট আইপি অ্যাড্রেস কী?', stars: 3 },
                            { text: 'Google.com এর াইপ অ্যাড্রেস লেখ।', stars: 3 },
                            { text: '168.100.09 IP Address-টি কোন Network class-এর অন্তর্ভুক্ত এবং কেন?', stars: 2 },
                            { text: 'কম্পিউটার নেটওয়ার্ক বলতে কী বুঝায়?', stars: 2 }
                        ],
                        sis: [
                            { text: 'আইপি অ্যাড্রেসের সাথে জড়িত টার্মিনোলজিগুলোর নাম লেখ।', stars: 1 },
                            { text: 'সুপারনেটিং বলতে কী বুঝায়?', stars: 2 },
                            { text: 'সাবনেট তৈরির সুবিধাসমূহ লেখ।', stars: 2 },
                            { text: 'সাবনেট ও সাবনেট মাস্ক সম্পর্কে লেখ।', stars: 2 },
                            { text: 'সাবনেটিং কী? কেন সাবনেটিং প্রয়োজন হয়?', stars: 2 },
                            { text: 'Networking-এর ক্ষেত্রে NIC-এর ভূমিকা লেখ।', stars: 2 },
                            { text: 'IPv4 ও IPv6 বলতে কী বুঝায়?', stars: 3 },
                            { text: 'IPv4 এবং IPv6 এর মধ্যে পার্থক্য লেখ।', stars: 3 },
                            { text: 'Real IP ও Private IP কী? B-Class এর Private ID এর Range উল্লেখ কর।', stars: 2 },
                            { text: 'MAC Address বর্ণনা কর।', stars: 2 },
                            { text: 'উদাহরণসহ প্রাইভেট IP অ্যাড্রেস বর্ণনা কর।', stars: 3 },
                            { text: 'উদাহরণসহ পাবলিক IP অ্যাড্রেস বর্ণনা কর।', stars: 3 }
                        ],
                        rsis: [
                            { text: 'IP অ্যাড্রেসের শ্রেণিবিভাগসহ বর্ণনা দাও।', stars: 3 },
                            { text: 'আইপি ভার্শন ৬ বর্ণনা কর।', stars: 2 }
                        ]
                    }
                },
                chapter13: {
                    title: 'অধ্যায়-১৩: ওয়‍্যারলেস কমিউনিকেশন',
                    tabs: {
                        osis: 'অতি সংক্ষিপ্ত প্রশ্ন',
                        sis: 'সংক্ষিপ্ত প্রশ্নঃ',
                        rsis: 'রচনামূলক প্রশ্ন:'
                    },
                    questions: {
                        osis: [
                            { text: 'ওয়‍্যারলেস কমিউনিকেশন কী?', stars: 3 },
                            { text: 'WiFi কী?', stars: 3 },
                            { text: 'LiFi কী?', stars: 2 },
                            { text: 'স্যাটেলাইটের ব্যান্ডউইডথ কত?', stars: 2 },
                            { text: 'ওয়‍্যারলেস নেটওয়ার্ক কী?', stars: 2 },
                            { text: 'ব্লুটুথ (Bluetooth) কী?', stars: 1 },
                            { text: '4G বলতে কী বুঝায়?', stars: 2 },
                            { text: '5G বলতে কী বুঝায়?', stars: 3 },
                            { text: 'পূর্ণরূপ লেখ: CDMA, GSM, TDMA, FDMA.', stars: 2 },
                            { text: 'GSM-এ কয় ধরণের ফ্রিকুয়েন্সি ব্যবহৃত হয়?', stars: 1 }
                        ],
                        sis: [
                            { text: 'মাইক্রোওয়েভ কমিউনিকেশন পদ্ধতির বৈশিষ্ট্য লেখ।', stars: 2 },
                            { text: 'স্যাটেলাইট কমিউনিকেশনরে সুবিধা ও অসুবিধা লেখ।', stars: 2 },
                            { text: 'রেডিও কমিউনিকেশনের বৈশিষ্ট্য লেখ।', stars: 2 },
                            { text: 'ইনফ্রারেড কমিউনিকেশনের বৈশিষ্ট্য লেখ।', stars: 2 },
                            { text: 'ওয়‍্যারলেস কমিউনিখেশনের বৈশিষ্ট্য লেখ।', stars: 3 }
                        ],
                        rsis: [
                            { text: 'চিত্রসহ মাইক্রোওয়েভ কমিউনিকেশন পদ্ধতির বর্ণনা দাও।', stars: 3 },
                            { text: 'রেডিও, মাইক্রোওয়েভ এবং ইনফ্রারেড কমিউনিকেশনের বর্ণনা দাও।', stars: 3 },
                            { text: 'স্যাটেলাইট কমিউনিকেশনের বর্ণনা দাও।', stars: 2 }
                        ]
                    }
                }
            };

            const chapterContentContainer = document.getElementById('chapter-content-container');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const sidebarCloseButton = document.getElementById('sidebar-close-button');

            // AI Modal elements
            const aiAnswerModal = document.getElementById('aiAnswerModal');
            const aiModalCloseButton = document.getElementById('aiModalCloseButton');
            const modalQuestionText = document.getElementById('modalQuestionText');
            const modalAnswerContent = document.getElementById('modalAnswerContent');
            const modalAnswerParts = document.getElementById('modalAnswerParts');
            const loadingSpinner = document.querySelector('.loading-spinner');
            const modalAnswerPlaceholder = document.getElementById('modalAnswerPlaceholder');


            // Function to render stars HTML
            function renderStarsHtml(starsCount) {
                let stars = '';
                for (let i = 0; i < starsCount; i++) {
                    stars += '<span class="star-icon">&#9733;</span>';
                }
                return stars;
            }

            // Function to render questions for a specific tab
            function renderQuestions(questions, startIndex) {
                let ulHtml = '<ul class="list-none">';
                questions.forEach((q, index) => {
                    const questionNumber = startIndex + index + 1;
                    let bgColorClass = '';
                    if (q.stars === 3) {
                        bgColorClass = 'bg-star-level-3';
                    } else if (q.stars === 2) {
                        bgColorClass = 'bg-star-level-2';
                    } else {
                        bgColorClass = 'bg-star-level-1';
                    }

                    ulHtml += `
                        <li class="question-item ${bgColorClass}">
                            <span class="text-gray-400 font-semibold flex-shrink-0">${questionNumber}.</span>
                            <div class="flex-1">
                                ${q.text}
                            </div>
                            <div class="flex items-center gap-2 ml-auto flex-shrink-0">
                                <span class="star-container inline-flex items-center">
                                    ${renderStarsHtml(q.stars)}
                                </span>
                                <button class="action-button" onclick="openAiModal('${encodeURIComponent(q.text)}', '${q.stars}')">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256">
                                        <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM96,128a8,8,0,0,1-8,8H72a8,8,0,0,1,0-16H88A8,8,0,0,1,96,128Zm88-8a8,8,0,0,1,0,16h-16a8,8,0,0,1,0-16Z"></path>
                                    </svg>
                                </button>
                                <button class="action-button" onclick="copyQuestionText(this)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard">
                                        <rect width="8" height="4" x="8" y="2" rx="1" ry="1"/>
                                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
                                    </svg>
                                </button>
                            </div>
                        </li>
                    `;
                });
                ulHtml += '</ul>';
                return ulHtml;
            }

            // Function to copy text to clipboard for individual question
            window.copyQuestionText = (button) => {
                const questionTextElement = button.closest('.question-item').querySelector('.flex-1');
                const textToCopy = questionTextElement.textContent.trim();
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            };


            // Function to generate answer using Gemini API
            async function generateAnswer(question, stars) {
                loadingSpinner.classList.remove('hidden');
                modalAnswerPlaceholder.classList.remove('hidden');
                modalAnswerParts.innerHTML = ''; // Clear previous answer parts

                // Determine question type from stars for prompt
                let questionTypeForPrompt;
                if (stars === 3) {
                    questionTypeForPrompt = 'রচনামূলক প্রশ্ন';
                } else if (stars === 2) {
                    questionTypeForPrompt = 'সংক্ষিপ্ত প্রশ্ন';
                } else {
                    questionTypeForPrompt = 'অতি সংক্ষিপ্ত প্রশ্ন';
                }


                const prompt = `
                    তুমি আমার একজন বন্ধুত্বপূর্ণ স্টাডি অ্যাসিস্ট্যান্ট হিসেবে কাজ করবে।
                    আমি বাংলাদেশের একজন ডিপ্লোমা ইন ইঞ্জিনিয়ারিং (কম্পিউটার সায়েন্স এন্ড টেকনোলজি) এর ছাত্র, পরীক্ষার জন্য প্রস্তুতি নিচ্ছি।
                    আমার সাথে সহজ, লোকাল, ইনফরমাল বাংলা ভাষায় কথা বলবে।
                    আমার হাতে বেশি সময় নেই সো যত সম্ভব সহজ করে উত্তর দেবে এবং নিশ্চিত করবে উত্তরগুলো অনেক সহজ হয়।

                    আমি তোমাকে একটি পরীক্ষার প্রশ্ন দেবো। তোমাকে সেই প্রশ্নটির বিস্তারিত উত্তর তৈরি করতে হবে।
                    প্রশ্নের ধরন: ${questionTypeForPrompt}
                    প্রশ্নের গুরুত্ব (স্টার): ${stars}
                    যদি প্রশ্নের গুরুত্ব ৩ স্টার হয়, তাহলে এটি রচনামূলক প্রশ্নের (৫ নম্বর) মতো বিস্তারিত হবে।
                    যদি প্রশ্নের গুরুত্ব ২ স্টার হয়, তাহলে এটি সংক্ষিপ্ত প্রশ্নের (২ নম্বর) মতো মাঝারি হবে।
                    যদি প্রশ্নের গুরুত্ব ১ স্টার হয়, তাহলে এটি অতি সংক্ষিপ্ত প্রশ্নের (১ নম্বর) মতো সংক্ষিপ্ত হবে।

                    উত্তরের গঠন (Answer Structure - 3 Parts):
                    প্রতিটি প্রশ্নের উত্তরের ৩টি অংশ থাকবে। তুমি এমনভাবে উত্তর সাজাবে যাতে ধাপে ধাপে প্রশ্নটি বোঝা যায়।
                    প্রথমে "পার্ট ৩: একদম সহজ ব্যাখ্যা" দেবে, তারপর "পার্ট ২: সহজ ভাষায় ব্যাখ্যা" দেবে এবং শেষে "পার্ট ১: পরীক্ষায় লেখার জন্য" অংশটি লিখবে।

                    পার্ট ৩ (একদম সহজ ব্যাখ্যা):
                    উত্তরটা এমন সহজ ভাষায় আর উদাহরণ দিয়ে বোঝাতে হবে যেন ক্লাস ২ এর একটা বাচ্চাও বুঝতে পারে। টেকনিক্যাল শব্দ ব্যবহার করা যাবে না। উদাহরণস্বরূপ: তুমি আর ফারজানা যখন খেলনা দিয়ে খেলো, তখন কী হয়? অথবা রিফাত, তুমি আর তোমার বন্ধু ফারজানা মিলে নতুন কিছু বানানোর চেষ্টা করছো, তখন সেটা কীভাবে হয়?

                    পার্ট ২ (সহজ ভাষায় ব্যাখ্যা):
                    পার্ট ৩-এর ব্যাখ্যাকে ভিত্তি করে একদম সহজ, ঘরোয়া বাংলা ভাষায় উদাহরণ দিয়ে উত্তরটা বুঝিয়ে বলবে। এখানে কিছুটা ইনফরমাল হওয়া যাবে। উদাহরণস্বরূপ: ধরো, রিফাত আর ফারজানা মিলে একটা প্রজেক্ট করছে, তখন কী হয়?

                    পার্ট ১ (পরীক্ষায় লেখার জন্য):
                    ভাষা: খুবই সহজবোধ্য, চলিত কিন্তু ফরমাল বাংলা ভাষায় লিখতে হবে। শব্দচয়ন এমন হবে যেন সবাই সহজে বুঝতে পারে, মনে রাখতে সুবিধা হয় এবং পরীক্ষার খাতায় লেখার জন্যও উপযুক্ত হয়। কঠিন বা অপ্রচলিত শব্দ ব্যবহার করা যাবে না।
                    দৈর্ঘ্য: প্রশ্নের মার্কস ও টাইপ অনুযায়ী হবে:
                    যদি প্রশ্নটি 'অতি সংক্ষিপ্ত' (১ মার্ক) হয়: সংক্ষিপ্ত, ১-২ লাইনের মধ্যে।
                    যদি প্রশ্নটি 'সংক্ষিপ্ত' (২ মার্ক) হয়: মাঝারি, ৩-৬ লাইনের মধ্যে (প্রায়)।
                    যদি প্রশ্নটি 'রচনামূলক' (৫ মার্ক) হয়: বিস্তারিত এবং পয়েন্টভিত্তিক, যথেষ্ট লম্বা হতে হবে।
                    উত্তরের সাইজ যেন ঠিক থাকে।

                    দয়া করে উত্তর দেওয়ার সময় এই ফরম্যাট কঠোরভাবে অনুসরণ করো:
                    পার্ট ৩: [একদম সহজ ব্যাখ্যা]
                    পার্ট ২: [সহজ ভাষায় ব্যাখ্যা]
                    পার্ট ১: [পরীক্ষায় লেখার জন্য উত্তর]

                    প্রশ্ন: "${question}"
                `;
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };

                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const rawAnswer = result.candidates[0].content.parts[0].text;
                        
                        // Split the rawAnswer into sections based on your defined headers
                        // Regex to find "পার্ট X:" headers, and split based on them, capturing the header itself.
                        const sections = rawAnswer.match(/(পার্ট ৩:|পার্ট ২:|পার্ট ১:)([\s\S]*?)(?=(পার্ট ৩:|পার্ট ২:|পার্ট ১:|$))/g);

                        modalAnswerParts.innerHTML = ''; // Clear existing content

                        if (sections) {
                            sections.forEach(section => {
                                const headerMatch = section.match(/(পার্ট ৩:|পার্ট ২:|পার্ট ১:)/);
                                if (headerMatch) {
                                    const header = headerMatch[0].trim();
                                    const content = section.substring(header.length).trim();

                                    let headingText;
                                    if (header === 'পার্ট ৩:') {
                                        headingText = 'পার্ট ৩: একদম সহজ ব্যাখ্যা';
                                    } else if (header === 'পার্ট ২:') {
                                        headingText = 'পার্ট ২: সহজ ভাষায় ব্যাখ্যা';
                                    } else if (header === 'পার্ট ১:') {
                                        headingText = 'পার্ট ১: পরীক্ষায় লেখার জন্য';
                                    }

                                    const partDiv = document.createElement('div');
                                    partDiv.classList.add('ai-answer-part');
                                    partDiv.innerHTML = `<h4 class="answer-part-heading">${headingText}</h4>`;
                                    
                                    // Check for code blocks (```java or ```)
                                    const codeBlockRegex = /```(?:java)?\s*([\s\S]*?)```/g;
                                    let lastIndex = 0;
                                    let match;
                                    
                                    // Process parts that are not code
                                    while ((match = codeBlockRegex.exec(content)) !== null) {
                                        // Add text before the code block
                                        if (match.index > lastIndex) {
                                            const textBefore = content.substring(lastIndex, match.index);
                                            const p = document.createElement('p');
                                            p.classList.add('answer-content-text');
                                            p.textContent = textBefore;
                                            partDiv.appendChild(p);
                                        }

                                        // Add the code block
                                        const pre = document.createElement('pre');
                                        pre.classList.add('answer-content-text'); // Apply common text style too
                                        pre.textContent = match[1].trim(); // Extract content inside ```
                                        partDiv.appendChild(pre);
                                        lastIndex = codeBlockRegex.lastIndex;
                                    }

                                    // Add any remaining text after the last code block
                                    if (lastIndex < content.length) {
                                        const remainingText = content.substring(lastIndex);
                                        const p = document.createElement('p');
                                        p.classList.add('answer-content-text');
                                        p.textContent = remainingText;
                                        partDiv.appendChild(p);
                                    }

                                    // If no code blocks, just add as a paragraph
                                    if (lastIndex === 0 && !codeBlockRegex.test(content)) {
                                        const p = document.createElement('p');
                                        p.classList.add('answer-content-text');
                                        p.textContent = content;
                                        partDiv.appendChild(p);
                                    }
                                    
                                    modalAnswerParts.appendChild(partDiv);
                                }
                            });
                        } else {
                            // Fallback if structured parts aren't found
                            const p = document.createElement('p');
                            p.classList.add('text-center', 'answer-content-text');
                            p.textContent = rawAnswer.trim() || 'উত্তর পাওয়া যায়নি।';
                            modalAnswerParts.appendChild(p);
                        }

                    } else {
                        modalAnswerParts.innerHTML = '<p class="text-center answer-content-text">দুঃখিত, এই প্রশ্নের উত্তর তৈরি করা সম্ভব হয়নি।</p>';
                    }
                } catch (error) {
                    console.error('Error generating answer:', error);
                    modalAnswerParts.innerHTML = '<p class="text-center answer-content-text">উত্তর তৈরি করার সময় একটি ত্রুটি হয়েছে। অনুগ্রহ করে আবার চেষ্টা করুন।</p>';
                } finally {
                    loadingSpinner.classList.add('hidden');
                    modalAnswerPlaceholder.classList.add('hidden');
                }
            }

            // Function to open AI modal
            window.openAiModal = (encodedQuestion, stars) => {
                const question = decodeURIComponent(encodedQuestion);
                modalQuestionText.textContent = question;
                
                loadingSpinner.classList.remove('hidden');
                modalAnswerPlaceholder.classList.remove('hidden');
                modalAnswerParts.innerHTML = ''; 

                aiAnswerModal.classList.add('active');
                generateAnswer(question, parseInt(stars)); 
            };

            // Function to close AI modal
            aiModalCloseButton.addEventListener('click', () => {
                aiAnswerModal.classList.remove('active');
            });

            aiAnswerModal.addEventListener('click', (e) => {
                if (e.target === aiAnswerModal) {
                    aiAnswerModal.classList.remove('active');
                }
            });


            // Function to show specific chapter content
            function showChapter(chapterId) {
                // Add fade-out class first, then change content and fade in
                chapterContentContainer.classList.remove('fade-in-chapter');
                chapterContentContainer.classList.add('fade-out-chapter'); // Add a temporary fade-out class if needed

                // A small delay to allow fade-out animation to start before content changes
                setTimeout(() => {
                    chapterContentContainer.innerHTML = '';

                    const currentChapterData = chapterData[chapterId];
                    if (!currentChapterData) return;

                    const chapterDiv = document.createElement('div');
                    chapterDiv.id = `${chapterId}-content`;
                    chapterDiv.classList.add('chapter-content');

                    chapterDiv.innerHTML = `
                        <h2 class="text-2xl sm:text-3xl font-bold text-[#66FCF1] mb-4 text-center">${currentChapterData.title}</h2>
                        <div class="tabs mb-6">
                            <div class="tab-buttons flex flex-wrap gap-2 mb-4 justify-center"></div>
                            <div class="tab-content-wrapper p-4 border border-gray-200 rounded-lg shadow-sm bg-white"></div>
                        </div>
                    `;
                    chapterContentContainer.appendChild(chapterDiv);

                    const tabButtonsContainer = chapterDiv.querySelector('.tab-buttons');
                    const tabContentWrapper = chapterDiv.querySelector('.tab-content-wrapper');

                    tabContentWrapper.classList.remove('bg-white');
                    tabContentWrapper.classList.add('bg-[#1F2833]');
                    tabContentWrapper.classList.add('shadow-inner');

                    let firstTabId = '';
                    let questionIndexOffset = 0;

                    for (const tabKey in currentChapterData.tabs) {
                        const tabTitle = currentChapterData.tabs[tabKey];
                        const questions = currentChapterData.questions[tabKey];
                        
                        if (questions && questions.length > 0) {
                            const button = document.createElement('button');
                            button.classList.add('tab-button', 'py-2', 'px-4', 'rounded-md', 'font-medium', 'bg-[#2C3E50]', 'text-[#C5C6C7]', 'hover:bg-[#34495E]', 'border', 'border-gray-200', 'shadow-sm');
                            button.dataset.tabTarget = tabKey;
                            button.textContent = tabTitle;
                            tabButtonsContainer.appendChild(button);

                            const pane = document.createElement('div');
                            pane.id = tabKey;
                            pane.classList.add('tab-pane', 'hidden');
                            pane.innerHTML = renderQuestions(questions, questionIndexOffset);
                            tabContentWrapper.appendChild(pane);

                            if (!firstTabId) {
                                firstTabId = tabKey;
                                button.classList.add('active-tab');
                                pane.classList.remove('hidden');
                                pane.classList.add('fade-in-tab'); // Add fade-in for the first tab
                            }

                            button.addEventListener('click', function() {
                                showTab(this, tabButtonsContainer, tabContentWrapper);
                            });
                            questionIndexOffset += questions.length; // Update offset for next tab's question numbering
                        }
                    }

                    document.querySelectorAll('.chapter-nav-link').forEach(link => {
                        link.classList.remove('active');
                        link.classList.remove('bg-[#66FCF1]', 'text-[#1A1A1D]');
                    });
                    const activeNavLink = document.querySelector(`.chapter-nav-link[data-chapter-id="${chapterId}"]`);
                    if (activeNavLink) {
                        activeNavLink.classList.add('active');
                        activeNavLink.classList.add('bg-[#66FCF1]', 'text-[#1A1A1D]');
                    }

                    const mainContentArea = document.querySelector('main');
                    if (mainContentArea) {
                        mainContentArea.scrollTo({ top: 0, behavior: 'smooth' });
                    }

                    // Add fade-in class after content is loaded
                    chapterContentContainer.classList.add('fade-in-chapter');
                    chapterContentContainer.classList.remove('fade-out-chapter'); // Remove fade-out class
                }, 100); // Small delay, adjust if fade-out is too fast or slow
            }

            // Function to show specific tab content within a chapter
            function showTab(button, tabButtonsContainer, tabContentWrapper) {
                const targetId = button.dataset.tabTarget;

                tabButtonsContainer.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active-tab', 'bg-[#45A29E]', 'text-white');
                    btn.classList.add('bg-[#2C3E50]', 'text-[#C5C6C7]');
                });
                tabContentWrapper.querySelectorAll('.tab-pane').forEach(pane => {
                    pane.classList.add('hidden');
                    pane.classList.remove('active-pane', 'fade-in-tab'); // Remove fade-in from old pane
                });

                button.classList.add('active-tab', 'bg-[#45A29E]', 'text-white');
                button.classList.remove('bg-[#2C3E50]', 'text-[#C5C6C7]');

                const activePane = tabContentWrapper.querySelector(`#${targetId}`);
                if (activePane) {
                    activePane.classList.remove('hidden');
                    activePane.classList.add('active-pane');
                    activePane.classList.add('fade-in-tab'); // Add fade-in to new pane
                }
            }

            // --- Event Listeners ---

            // Sidebar open/close logic
            mobileMenuButton.addEventListener('click', () => {
                sidebar.classList.toggle('active');
                sidebarOverlay.classList.toggle('active');
            });

            sidebarCloseButton.addEventListener('click', () => {
                sidebar.classList.remove('active');
                sidebarOverlay.classList.remove('active');
            });

            sidebarOverlay.addEventListener('click', () => {
                sidebar.classList.remove('active');
                sidebarOverlay.classList.remove('active');
            });

            // Sidebar chapter navigation links
            document.querySelectorAll('.chapter-nav-link').forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    const chapterId = this.dataset.chapterId;
                    showChapter(chapterId);

                    // Close sidebar on mobile after clicking a link
                    if (window.innerWidth <= 768) {
                        sidebar.classList.remove('active');
                        sidebarOverlay.classList.remove('active');
                    }
                });
            });

            // Initial load: Show the first chapter's content and its first tab
            showChapter('chapter1');
        });
    </script>
</body>
</html>
