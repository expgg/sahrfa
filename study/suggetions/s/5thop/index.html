<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer Peripherals & Interfacing Questions Template</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Importing Noto Sans Bengali for better readability */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Bengali:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Noto Sans Bengali', 'Inter', sans-serif; /* Prioritize Noto Sans Bengali */
            background-color: #1a202c; /* Dark background for the whole page */
            color: #e2e8f0; /* Light text for general content */
            line-height: 1.6;
            padding-bottom: 40px; /* Add padding to body to prevent footer from overlapping content */
        }
        .main-content {
            max-width: 900px;
            margin: 20px auto;
            padding: 0 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #2d3748; /* Darker border for dark mode */
        }
        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #cbd5e0; /* Lighter color for the main title */
            margin-bottom: 5px;
        }
        .header .subtitle {
            font-size: 1.5rem;
            font-weight: 600;
            color: #90cdf4; /* Lighter blue for the subtitle */
        }
        .question-category {
            margin-bottom: 30px;
            border: none;
            border-radius: 0;
            overflow: hidden;
            box-shadow: none;
        }
        .category-header {
            background-color: #4299e1; /* Slightly brighter blue for contrast */
            color: white;
            padding: 15px 20px;
            font-size: 1.5rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3182ce; /* Darker border for dark mode */
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .question-list {
            padding: 20px;
            background-color: #2d3748; /* Darker background for the list */
            display: block;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); /* Darker shadow for dark mode */
        }
        .question-item {
            display: flex;
            flex-direction: column; /* Changed to column to stack main row and dropdown */
            align-items: flex-start; /* Align items to the start */
            padding: 8px 15px; /* Adjusted vertical padding */
            margin-bottom: 8px; /* Space between items */
            background-color: #4a5568; /* Distinct dark background for each item */
            border-radius: 6px; /* Rounded corners for question items */
            transition: background-color 0.3s ease, transform 0.2s ease; /* Animation for hover */
            color: #e2e8f0; /* Light text for questions */
        }
        .question-item:last-child {
            margin-bottom: 0; /* No bottom margin for the last item */
        }
        .question-item:hover {
            background-color: #636b7f; /* Slightly lighter on hover */
            transform: translateY(-2px); /* Subtle lift effect */
        }
        /* Style for Mythic (Red) stripe items */
        .red-mythic-item {
            border-left: 4px solid #FF0000; /* Red stripe */
            padding-left: 11px; /* Adjust padding to account for the border */
            background-color: #4a5568; /* Keep original background for subtle effect */
            color: #e2e8f0; /* Keep original text color */
        }
        .red-mythic-item:hover {
            background-color: #636b7f; /* Maintain hover effect */
            transform: translateY(-2px);
        }
        /* Style for Legendary (Gold) stripe items */
        .gold-legendary-item {
            border-left: 4px solid #FFD700; /* Gold stripe on the left */
            padding-left: 11px; /* Adjust padding to account for the border */
            background-color: #4a5568; /* Keep original background for subtle effect */
            color: #e2e8f0; /* Keep original text color */
        }
        .gold-legendary-item:hover {
            background-color: #636b7f; /* Maintain hover effect */
            transform: translateY(-2px);
        }
        /* Style for Epic (Purple) stripe items */
        .purple-epic-item {
            border-left: 4px solid #800080; /* Purple stripe on the left */
            padding-left: 11px; /* Adjust padding to account for the border */
            background-color: #4a5568; /* Keep original background for subtle effect */
            color: #e2e8f0; /* Keep original text color */
        }
        .purple-epic-item:hover {
            background-color: #636b7f; /* Maintain hover effect */
            transform: translateY(-2px);
        }

        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #2d3748; /* Consistent with branding background */
            color: #a0aec0; /* Lighter text */
            text-align: center;
            padding: 8px 0;
            font-size: 0.85rem;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3); /* Darker shadow for dark mode */
            z-index: 1000;
        }

        /* Styling for the copy and AI buttons */
        .action-button {
            flex-shrink: 0;
            cursor: pointer;
            transition: color 0.2s ease-in-out;
            display: flex; /* To center content */
            justify-content: center;
            align-items: center;
            padding: 0.25rem 0.5rem; /* Padding for text button */
            border-radius: 0.25rem; /* Rounded corners for button */
            font-size: 0.875rem; /* Adjust font size for text button */
            font-weight: 500;
            background-color: #3182ce; /* Blue background for AI button */
            color: white;
            border: none;
        }
        .action-button:hover {
            background-color: #4299e1; /* Lighter blue on hover */
            color: white; /* Keep text white on hover */
        }
        /* Specific style for the copy button to maintain icon look */
        .copy-button {
            width: 1.5rem; /* Revert width */
            height: 1.5rem; /* Revert height */
            background-color: transparent; /* No background for icon button */
            color: #7F8C8D; /* Icon color */
            padding: 0; /* Remove padding for icon button */
            font-size: 1.25rem; /* Ensure icon is visible */
        }
        .copy-button:hover {
            color: #66FCF1; /* Bright cyan on hover */
            background-color: transparent; /* Keep background transparent */
        }

        /* AI Modal specific positioning for true centering (from index.html) */
        .ai-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .ai-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .ai-modal-content {
            background-color: #1F2833; /* Dark background for modal */
            color: #C5C6C7; /* Light gray text */
            border-radius: 0.75rem;
            width: 90%;
            max-width: 600px;
            max-height: 90vh; /* Limits height, enables internal scroll if content is too long */
            overflow-y: auto; /* Internal scrolling for modal content */
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            transform: translateY(0);
            opacity: 1;
            transition: none;
        }
        .ai-modal-close-button {
            background: none;
            border: none;
            color: #C5C6C7;
            font-size: 2rem;
            cursor: pointer;
            line-height: 1;
            padding: 0.25rem;
            border-radius: 0.25rem;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        }
        .ai-modal-close-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: #66FCF1;
        }

        /* AI Modal Answer Styling (from index.html) */
        .ai-answer-part {
            margin-bottom: 1rem;
        }
        .ai-answer-part pre {
            background-color: #1A1A1D; /* Darker background for code */
            color: #ABB2BF; /* Default code text color */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto; /* Enable horizontal scroll for long code lines */
            font-family: 'Cascadia Code', 'Fira Code', 'monospace'; /* Monospaced font for code */
            line-height: 1.4;
            tab-size: 4;
            white-space: pre-wrap; /* Preserve line breaks and spaces */
            word-break: break-word; /* Break long words */
        }
        /* Syntax highlighting colors */
        .code-keyword { color: #89DDFF; } /* Light blue/cyan */
        .code-string { color: #C3E88D; } /* Light green */
        .code-number { color: #F78C6C; } /* Orange */
        .code-class { color: #FFCB6B; } /* Yellow/orange */
        .code-method { color: #C792EA; } /* Purple */
        .code-variable { color: #FFEA7A; } /* Lighter yellow */
        .code-comment { color: #6A737D; font-style: italic; } /* Gray, italic */
        .code-operator { color: #FF5370; } /* Red/pink */
        .code-punctuation { color: #ABB2BF; } /* Light gray */

        .ai-answer-part p {
            white-space: pre-wrap; /* Preserve line breaks and spaces */
            word-break: break-word; /* Break long words */
        }
        .ai-answer-part ul {
            list-style-type: disc; /* Ensure bullet points for lists */
            margin-left: 1.25rem; /* Indent for list items */
        }
        .ai-answer-part li {
            margin-bottom: 0.5rem;
        }
        .answer-part-heading {
            font-weight: 600;
            color: #66FCF1; /* Cyan for headings within answer parts */
            margin-bottom: 0.5rem;
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #66FCF1;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Custom Scrollbar Styles for AI modal content (from index.html) */
        .ai-modal-content::-webkit-scrollbar {
            width: 8px;
        }
        .ai-modal-content::-webkit-scrollbar-track {
            background: #1A1A1D;
            border-radius: 10px;
        }
        .ai-modal-content::-webkit-scrollbar-thumb {
            background-color: #45A29E;
            border-radius: 10px;
            border: 2px solid #1A1A1D;
        }
        .ai-modal-content::-webkit-scrollbar-corner {
            background: transparent;
        }
        /* Firefox scrollbar styles */
        .ai-modal-content {
            scrollbar-width: thin;
            scrollbar-color: #45A29E #1A1A1D;
        }

        /* Styles for dropdown answers */
        .answer-dropdown {
            background-color: #3a475a; /* Slightly lighter dark background for dropdown */
            padding: 0.75rem;
            border-radius: 0.375rem;
            margin-top: 0.5rem;
            font-size: 0.95rem;
            color: #d1d5db;
            width: 100%; /* Ensure it takes full width of its parent */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }

        /* New style for extended answer dropdown */
        .extended-answer-dropdown {
            background-color: #5a6b80; /* Even lighter dark background for extended dropdown */
            padding: 0.75rem;
            border-radius: 0.375rem;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #e2e8f0;
            width: 100%;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }

        /* Specific styles for AMOLED black dropdowns in "very-short" and "short" sections */
        .amoled-dropdown {
            background-color: #000000; /* Pure black for AMOLED */
            color: #ffffff; /* White to pop on black */
        }

        .amoled-extended-dropdown {
            background-color: #000000; /* Pure black for AMOLED */
            color: #a78bfa; /* Vibrant purple to pop for extended */
        }

        /* Style for the short answer text itself, now a toggle */
        .short-answer-text-toggle {
            cursor: pointer;
            padding: 0.5rem 0; /* Add some padding */
            border-radius: 0.375rem;
            transition: background-color 0.2s ease;
            display: flex; /* To align text and icon */
            justify-content: space-between;
            align-items: center;
        }
        .short-answer-text-toggle:hover {
            background-color: #4a5568; /* Slightly lighter on hover */
        }


        .question-text-toggle {
            cursor: pointer;
            flex-grow: 1; /* Allow text to grow */
            display: flex; /* Enable flex for icon positioning */
            justify-content: space-between; /* Push icon to the right */
            align-items: center;
        }
        .question-main-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%; /* Ensure this row takes full width of question-item */
            min-height: 2.5rem; /* Set a minimum height for the row */
        }
        .question-item .button-container {
            display: flex;
            gap: 0.5rem;
            flex-shrink: 0; /* Prevent buttons from shrinking */
        }
        .toggle-icon {
            transition: transform 0.3s ease;
        }
        .toggle-icon.rotated {
            transform: rotate(90deg);
        }

        /* Custom styles for visually enhanced answers */
        .answer-content-section {
            margin-bottom: 1rem;
        }
        .answer-content-section h5 {
            font-weight: 600;
            color: #66FCF1; /* Cyan for sub-headings */
            margin-bottom: 0.5rem;
            text-decoration: underline;
            text-underline-offset: 4px;
        }
        .answer-content-section p {
            margin-bottom: 0.5rem;
        }
        .answer-content-section ul {
            list-style-type: disc;
            margin-left: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .answer-content-section ul li {
            margin-bottom: 0.25rem;
        }
        .highlight-text {
            color: #a78bfa; /* Purple for highlighting important info */
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="main-content">
        <header class="header">
            <h1>কম্পিউটার পেরিফেরালস অ্যান্ড ইন্টারফেসিং</h1>
            <p class="subtitle">গুরুত্বপূর্ণ প্রশ্নাবলী</p>
        </header>

        <!-- Question categories -->
        <div class="question-category">
            <div class="category-header" data-category="very-short">
                <span>অতি সংক্ষিপ্ত</span>
            </div>
            <div class="question-list" id="very-short-questions">
                <!-- Very Short Questions will be loaded here by JavaScript -->
            </div>
        </div>

        <div class="question-category">
            <div class="category-header" data-category="short">
                <span>সংক্ষিপ্ত</span>
            </div>
            <div class="question-list" id="short-questions">
                <!-- Short Questions will be loaded here by JavaScript -->
            </div>
        </div>

        <div class="question-category">
            <div class="category-header" data-category="essay">
                <span>রচনামূলক</span>
            </div>
            <div class="question-list" id="essay-questions">
                <!-- Essay Questions will be loaded here by JavaScript -->
            </div>
        </div>
    </div>

    <footer class="footer">
        Made By Al Hossain Rifat
    </footer>

    <!-- AI Answer Modal -->
    <div id="aiAnswerModal" class="ai-modal-overlay">
        <div class="ai-modal-content">
            <div class="flex justify-between items-center mb-4 pb-2 border-b border-gray-700">
                <h3 class="text-xl font-semibold text-white">AI Assistant</h3>
                <button id="aiModalCloseButton" class="ai-modal-close-button">&times;</button>
            </div>
            <div class="mb-4">
                <p class="font-medium text-lg mb-2">প্রশ্ন:</p>
                <p id="modalQuestionText" class="p-3 bg-[#2C3E50] rounded-md text-[#D1D5DB]"></p>
            </div>
            <div class="mb-4">
                <p class="font-medium text-lg mb-2">উত্তর:</p>
                <div id="modalAnswerContent" class="p-3 bg-[#2C3E50] rounded-md min-h-[100px] flex flex-col text-[#D1D5DB]">
                    <div class="loading-spinner hidden self-center"></div>
                    <div id="modalAnswerParts">
                        <p id="modalAnswerPlaceholder" class="text-center">উত্তর লোড হচ্ছে...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_KEY = ""; // Leave this empty, Canvas will provide it at runtime

        // Dummy syntax highlighting function for template
        function highlightJavaCode(codeString) {
            // This is a placeholder. In a real app, you'd have a more robust highlighter.
            return codeString.replace(/(\b(?:import|public|class|static|void|int|double|float|String|new|return|extends|if|else|for|while|try|catch|finally|this|super|null|true|false)\b)/g, '<span style="color: #89DDFF;">$1</span>') // Keywords
                           .replace(/(".*?")/g, '<span style="color: #C3E88D;">$1</span>') // Strings
                           .replace(/(\b\d+\b)/g, '<span style="color: #F78C6C;">$1</span>') // Numbers
                           .replace(/(\/\/.*)/g, '<span style="color: #6A737D; font-style: italic;">$1</span>'); // Comments
        }

        window.copyQuestionText = (button) => {
            const questionItem = button.closest('.question-item');
            const questionTextElement = questionItem.querySelector('.question-text-display') || questionItem.querySelector('.question-text-toggle');
            const targetId = questionTextElement.dataset.target;
            let textToCopy = questionTextElement.textContent.trim();

            if (targetId) {
                const dropdown = document.getElementById(targetId);
                if (dropdown) {
                    const shortAnswerContent = dropdown.querySelector('.short-answer-content');
                    const extendedAnswerContent = dropdown.querySelector('.extended-answer-dropdown');
                    if (shortAnswerContent && extendedAnswerContent) {
                        textToCopy = `Short Answer: ${shortAnswerContent.textContent.trim()}\n\nExtended Answer: ${extendedAnswerContent.textContent.trim()}`;
                    } else if (shortAnswerContent) {
                        textToCopy = shortAnswerContent.textContent.trim();
                    }
                }
            }
            
            const textArea = document.createElement("textarea");
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
        };

        async function generateAnswer(question, questionCategory) {
            const loadingSpinner = document.querySelector('#aiAnswerModal .loading-spinner');
            const modalAnswerPlaceholder = document.querySelector('#aiAnswerModal #modalAnswerPlaceholder');
            const modalAnswerParts = document.querySelector('#aiAnswerModal #modalAnswerParts');

            loadingSpinner.classList.remove('hidden');
            modalAnswerPlaceholder.classList.remove('hidden');
            modalAnswerParts.innerHTML = '';

            // This is a placeholder for AI generation
            setTimeout(() => {
                const dummyAnswer = `
                    <div class="ai-answer-part">
                        <h4 class="answer-part-heading">পার্ট ৩: একদম সহজ ব্যাখ্যা</h4>
                        <p>এখানে প্রশ্নের একদম সহজ ব্যাখ্যা থাকবে, যা ক্লাস ২ এর বাচ্চাও বুঝবে।</p>
                    </div>
                    <div class="ai-answer-part">
                        <h4 class="answer-part-heading">পার্ট ২: সহজ ভাষায় ব্যাখ্যা</h4>
                        <p>এখানে সহজ ভাষায় উদাহরণ দিয়ে ব্যাখ্যা থাকবে, যা ঘরোয়া পরিবেশে বোঝানো যাবে।</p>
                    </div>
                    <div class="ai-answer-part">
                        <h4 class="answer-part-heading">পার্ট ১: পরীক্ষায় লেখার জন্য</h4>
                        <p>এখানে পরীক্ষার জন্য উপযুক্ত ফরমাল বাংলা ভাষায় উত্তর থাকবে।</p>
                        <pre><code><span style="color: #89DDFF;">public class</span> <span style="color: #FFCB6B;">Example</span> {
    <span style="color: #89DDFF;">public static void</span> <span style="color: #C792EA;">main</span>(<span style="color: #FFCB6B;">String</span>[] <span style="color: #FFEA7A;">args</span>) {
        <span style="color: #FFEA7A;">System</span>.<span style="color: #FFEA7A;">out</span>.<span style="color: #C792EA;">println</span>(<span style="color: #C3E88D;">"Hello, World!"</span>); <span style="color: #6A737D; font-style: italic;">// This is a comment</span>
    }
}</code></pre>
                    </div>
                `;
                modalAnswerParts.innerHTML = dummyAnswer;
                loadingSpinner.classList.add('hidden');
                modalAnswerPlaceholder.classList.add('hidden');
            }, 1500); // Simulate network delay
        }

        window.openAiModal = (encodedQuestion, questionCategory) => {
            const question = decodeURIComponent(encodedQuestion);
            document.getElementById('modalQuestionText').textContent = question;
            document.getElementById('aiAnswerModal').classList.add('active');
            generateAnswer(question, questionCategory);
        };

        document.getElementById('aiModalCloseButton').addEventListener('click', () => {
            document.getElementById('aiAnswerModal').classList.remove('active');
        });

        document.getElementById('aiAnswerModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('aiAnswerModal')) {
                document.getElementById('aiAnswerModal').classList.remove('active');
            }
        });

        const questions = {
            "very-short": [
                { text: "১। অপারেটিং সিস্টেম কী? (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২। GUI এর পূর্ণরূপ কী? (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৩। কার্নেল কী? (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৪। মনিটর প্রোগ্রামের কাজ কী? (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৫। Multitasking বলতে কী বুঝায়? (Chapter - 4)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৬। JCL কী? (Chapter - 3)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৭। Spooling কী? (Chapter - 3)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৮। প্রসেস কী? (Chapter - 4)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৯। CPU বাউন্ড প্রোগ্রাম ও I/O বাউন্ড প্রোগ্রাম কী? (Chapter - 5)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১০। Deadlock কী? (Chapter - 6)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১১। Roll back বলতে কী বুঝ? (Chapter - 6)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১২। ফ্র্যাগমেন্টেশন কী? (Chapter - 7)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৩। Swapping কী? (Chapter - 7)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৪। Memory management বলতে কী বুঝায়? (Chapter - 7)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৫। I/O Hardware কী? (Chapter - 8)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৬। I/O Software কী? (Chapter - 8)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৭। RAID কী? (Chapter - 8)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৮। ফাইল সিস্টেম বলতে কী বুঝায়? (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৯। FAT এর পূর্ণরূপ লেখ। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২০। NTFS এর পূর্ণরূপ লেখ। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২১। NFS এর পূর্ণরূপ লেখ। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২২। শেল কী? (Chapter - 10)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২৩। Multiprocessor বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৪। সিপিউউএর বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৫। রেস কন্ডিশন বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৬। থ্রেড বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৭। সিপিউউডি বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৮। Time Slice বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৯। Starvation বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩০। Deadlock Prevention বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩১। Paging বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩২। Demand paging বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৩। Virtual memory কী? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৪। Rate বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৫। ক্যালি বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৬। DMA বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৭। File Pointer বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৮। File Operation বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৯। Free Space management বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪০। Bit Vector বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪১। File attribute বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪২। DRAM এর পূর্ণরূপ লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪৩। DOS এর পূর্ণরূপ লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪৪। DOS বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪৫। Linux বলতে কী বুঝ? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৪৬। কিছু Operating system-এর নাম লেখ। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৭। কতকগুলো বহুল ব্যবহৃত Open source OS-এর নাম লেখ। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৮। সিস্টেম কল-এর প্রকারভেদ উল্লেখ কর। (Chapter - 2)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৯। Throughput কী? (Chapter - 3)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫০। JCL Computer কে কী কী তথ্য প্রদান করে? (Chapter - 3)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫১। স্পুলিং-এর প্রয়োজনীয়তা লেখ। (Chapter - 3)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫২। Process-এর state diagram আঁক। (Chapter - 4)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৩। সিডিউলার কী? (Chapter - 4)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৪। Program-এর সংজ্ঞা লেখ। (Chapter - 4)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৫। Multiprogramming বলতে কী বুঝায়? (Chapter - 4)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৬। সিডিউলিং কাকে বলে? (Chapter - 5)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৭। SJF Algorithm-এর বৈশিষ্ট্য লেখ। (Chapter - 5)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৮। কয়েকটি Scheduling algorithm এর নাম লেখ। (Chapter - 5)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৫৯। Deadlock detection algorithm কত প্রকার ও কী কী? (Chapter - 6)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬০। মেমরি ম্যানেজমেন্ট স্কিমগুলো কী কী? (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬১। RAM, ROM, PROM, DRAM, SRAM, SAM, DAM-এর পুরো নাম লেখ। (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬২। Extension-সহ বিভিন্ন ধরণের File-এর নাম লেখ। (Chapter - 9)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬৩। ফাইল অপারেশনগুলো লেখ। (Chapter - 9)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬৪। Disk free space management বলতে কী বুঝায়? (Chapter - 9)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬৫। ফাইল সিস্টেমের বৈশিষ্ট্যগুলো কী কী? (Chapter - 9)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬৬। MPEG ও JPEG-এর পুরো নাম কী? (Chapter - 9)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৬৭। মাল্টিটাস্কিং অপারেটিং সিস্টেম কী? (Chapter - 10)", tier: 'epic', answer: '', extendedAnswer: '' }
            ],
            "short": [
                { text: "১। মনিটর প্রোগ্রাম কী? এটির কাজ লেখ। (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২। Kernel বলতে কী বুঝা? কার্নেলের কাজ কী? (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৩। Resource manager হিসেবে OS-এর ভূমিকা লেখ। (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৪। ব্যাচ সিস্টেম-এর সুবিধাগুলো লেখ। (Chapter - 3)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৫। JCL-এর উদ্দেশ্য ও ব্যবহার লেখ। (Chapter - 3)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৬। Process এবং Program এর পার্থক্য লেখ। (Chapter - 4)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৭। CPU Sheduling সংক্ষেপে বর্ণনা কর। (Chapter - 5)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৮। Scheduling algorithm -এর বিভিন্ন Criteria-গুলো লেখ। (Chapter - 5)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৯। একটি System Deadlock-এ পড়বার শর্তগুলো বর্ণনা কর। (Chapter - 6)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১০। Deadlock থেকে মুক্ত হওয়ার উপায়সমূহ কী কী? (Chapter - 6)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১১। Internal ও External fragmentation-এর বর্ণনা দাও। (Chapter - 7)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১২। Swapping পদ্ধতি চিত্রের সাহায্যে সংক্ষেপে লেখ। (Chapter - 7)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৩। মেমরি ম্যানেজমেন্টের সুবিধাগুলো লেখ। (Chapter - 7)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৪। I/O Software-এর Goal বর্ণনা কর। (Chapter - 8)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৫। সাধারণ File system-এর বৈশিষ্ঠ্যগুলো লেখ। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৬। File কী? File-এর Basic operation-গুলো সংক্ষেপে লেখ। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৭। Windows অপেক্ষা Linux-এর সুবিধাগুলো লেখ। (Chapter - 10)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১৮। System Call ও System Program এর প্রকারভেদ বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "১৯। ব্যাচ প্রসেসিং সিস্টেম এর সুবিধা অসুবিধা, JCL এর উদ্দেশ্য ও ব্যবহার লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২০। Process state diagram বর্ণনা কর। সিডিউলিং এর কাজগুলো লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২১। SASD ও DASD এর পার্থক্য লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২২। DBMS ও File Processing system এর পার্থক্য লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৩। Linux ও Windows এর পার্থক্য লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৪। Deadlock recovery করার উপায়? (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৫। Resource কী? এর প্রকারভেদ উদাহরণসহ লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৬। Fragmentation এর প্রকারভেদ, Swapping Process বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৭। Memory management এর কার্যপ্রণালি বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৮। বিভিন্ন ধরনের Disk Scheduling বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "২৯। File Pointer এর কাজ, File Operation ও File এর Attribute গুলো বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩০। উইন্ডোজ অপারেটিং সিস্টেম এর বৈশিষ্ট্য ও সুবিধা অসুবিধা লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩১। লিনাক্স অপারেটিং সিস্টেম এর বৈশিষ্ট্য ও সুবিধা অসুবিধা লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩২। ডস অপারেটিং সিস্টেম এর বৈশিষ্ট্য ও সুবিধা অসুবিধা লেখ। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "৩৩। অপারেটিং সিস্টেম User-কে কীভবে Hardware থেকে আলাদা করে? চিত্র একে ব্যাখ্যা কর। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৩৪। Multitasking বলতে বুঝ? (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৩৫। Unix-এর বৈশিষ্ট্য লেখ। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৩৬। Linux-এর বৈশিষ্ট্য লেখ। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৩৭। বিভিন্ন ধরনের Operating system -এর গুরুত্ব লেখ। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৩৮। বিভিন্ন ধরনের Operating system -এর নাম লেখ। (Chapter - 1)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৩৯। স্পুলিং কী এবং কেন দরকার? (Chapter - 3)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪০। একটি প্রসেস-এর অবস্থাগুলো বর্ণনা কর। (Chapter - 4)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪১। Deadlock avoidance কী? (Chapter - 6)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪২। Virtual memory বলতে কী বুঝ? (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৩। সেগমেন্টেশন কী? (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৪। Buffering-এর প্রয়োজনীয়তা লেখ। (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৫। Input/output System-এর কার্যবলি বর্ণনা কর। (Chapter - 8)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "৪৬। কার্নেল বলতে কী বুঝায়? (Chapter - 10)", tier: 'epic', answer: '', extendedAnswer: '' }
            ],
            "essay": [
                { text: "১। অপারেটিং সিস্টেমের কার্যাবলি বর্ণনা কর। (Chapter - 1)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "২। Batch Processing System বর্ণনা কর। (Chapter - 3)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৩। Spooling system বর্ণনা কর। (Chapter - 3)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৪। Process Management এর Synchronization বর্ণনা কর। (Chapter - 4)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৫। Scheduling algorithm -এর বিভিন্ন Criteria-গুলো লেখ। (Chapter - 5)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৬। Round Robin Scheduling Algorithm বর্ণনা কর। (Chapter - 5)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৭। Deadlock দূরীকরণের Algorithm বর্ণনা কর। (Chapter - 6)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৮। Deadlock prevention -এর বিভিন্ন স্তরগুলো বর্ণনা কর। (Chapter - 6)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "৯। চিত্রসহ File System Organization বর্ণনা কর। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১০। ডিস্ক ফ্রি স্পেস ম্যানেজমেন্ট পদ্ধতি বর্ণনা কর। (Chapter - 9)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১১। লিনাক্স অপারেটিং সিস্টেমের বৈশিষ্ট্যসমূহ বর্ণনা কর। (Chapter - 10)", tier: 'mythic', answer: '', extendedAnswer: '' },
                { text: "১২। Scheduling queue ও Scheduling Process এর সিনক্রোনাইজেশন বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "১৩। Linux Kernel-এর বৈশিষ্ট্য বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "১৪। I/O Software এর বিভিন্ন লেয়ারগুলো বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "১৫। File System এর বৈশিষ্ট্য বর্ণনা কর। (Legendary)", tier: 'legendary', answer: '', extendedAnswer: '' },
                { text: "১৬। ডাইনামিক্যালি রিলোকেট্যাবল পদ্ধতি বর্ণনা কর। (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "১৭। চিত্রসহ Segmented allocation বর্ণনা কর। (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "১৮। চিত্রসহ Segmented paged allocation বর্ণনা কর। (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' },
                { text: "১৯। Contiguous allocation পদ্ধতি বর্ণনা কর। (Chapter - 7)", tier: 'epic', answer: '', extendedAnswer: '' }
            ]
        };

        function loadQuestions() {
            for (const category in questions) {
                const listElement = document.getElementById(`${category}-questions`);
                if (listElement) {
                    listElement.innerHTML = ''; 

                    questions[category].forEach((q, index) => {
                        const listItem = document.createElement('div');
                        listItem.classList.add('question-item');
                        
                        // Apply tier-based styling
                        if (q.tier === 'mythic') {
                            listItem.classList.add('red-mythic-item');
                        } else if (q.tier === 'legendary') {
                            listItem.classList.add('gold-legendary-item');
                        } else if (q.tier === 'epic') {
                            listItem.classList.add('purple-epic-item');
                        }

                        // Generate unique IDs for dropdowns
                        const dropdownId = `answer-dropdown-${category}-${index}`;
                        const extendedDropdownId = `extended-answer-dropdown-${category}-${index}`;

                        // Determine AMOLED styling based on category (as per original logic, though not strictly needed for questions-only)
                        const isAmoledSection = (category === 'very-short' || category === 'short');
                        const dropdownClass = isAmoledSection ? 'answer-dropdown amoled-dropdown' : 'answer-dropdown';
                        const extendedDropdownClass = isAmoledSection ? 'extended-answer-dropdown amoled-extended-dropdown' : 'extended-answer-dropdown';

                        listItem.innerHTML = `
                            <div class="question-main-row">
                                <div class="question-text-toggle flex-1 cursor-pointer" data-target="${dropdownId}">
                                    <span>${q.text}</span>
                                    <svg class="toggle-icon w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                </div>
                                <div class="button-container flex items-center gap-2 flex-shrink-0">
                                    <button class="action-button" onclick="openAiModal('${encodeURIComponent(q.text)}', '${category}')">
                                        AI
                                    </button>
                                    <button class="action-button copy-button" onclick="copyQuestionText(this)">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard">
                                            <rect width="8" height="4" x="8" y="2" rx="1" ry="1"/>
                                            <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div id="${dropdownId}" class="${dropdownClass} hidden">
                                <div class="short-answer-text-toggle" data-target="${extendedDropdownId}">
                                    <div class="short-answer-content">${q.answer || 'No short answer available.'}</div>
                                    <svg class="toggle-icon w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                                </div>
                                <div id="${extendedDropdownId}" class="${extendedDropdownClass} hidden">
                                    ${q.extendedAnswer || 'No extended answer available.'}
                                </div>
                            </div>
                        `;
                        
                        listElement.appendChild(listItem);

                        // Add event listeners for toggling dropdowns
                        const toggleElement = listItem.querySelector('.question-text-toggle');
                        const toggleIcon = toggleElement.querySelector('.toggle-icon');
                        toggleElement.addEventListener('click', function() {
                            const targetId = this.dataset.target;
                            const dropdown = document.getElementById(targetId);
                            if (dropdown) {
                                dropdown.classList.toggle('hidden');
                                toggleIcon.classList.toggle('rotated');
                            }
                        });

                        const extendedToggleElement = listItem.querySelector('.short-answer-text-toggle');
                        if (extendedToggleElement) {
                            const extendedToggleIcon = extendedToggleElement.querySelector('.toggle-icon');
                            extendedToggleElement.addEventListener('click', function(event) {
                                event.stopPropagation(); // Prevent parent toggle from closing
                                const targetId = this.dataset.target;
                                const extendedDropdown = document.getElementById(targetId);
                                if (extendedDropdown) {
                                    extendedDropdown.classList.toggle('hidden');
                                    extendedToggleIcon.classList.toggle('rotated');
                                }
                            });
                        }
                    });
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadQuestions();
        });
    </script>
</body>
</html>
